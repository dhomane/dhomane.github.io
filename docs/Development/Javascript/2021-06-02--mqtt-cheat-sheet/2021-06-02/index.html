<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Development/Javascript/2021-06-02--mqtt-cheat-sheet/index">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Mosquitto MQTT Cheat Sheet | Mike Polinowski</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mpolinowski.github.io/docs/Development/Javascript/2021-06-02--mqtt-cheat-sheet/2021-06-02"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Mosquitto MQTT Cheat Sheet | Mike Polinowski"><meta data-rh="true" name="description" content="Victoria Harbour, Hongkong"><meta data-rh="true" property="og:description" content="Victoria Harbour, Hongkong"><link data-rh="true" rel="icon" href="/img/icons/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://mpolinowski.github.io/docs/Development/Javascript/2021-06-02--mqtt-cheat-sheet/2021-06-02"><link data-rh="true" rel="alternate" href="https://mpolinowski.github.io/docs/Development/Javascript/2021-06-02--mqtt-cheat-sheet/2021-06-02" hreflang="en"><link data-rh="true" rel="alternate" href="https://mpolinowski.github.io/docs/Development/Javascript/2021-06-02--mqtt-cheat-sheet/2021-06-02" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Mike Polinowski RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Mike Polinowski Atom Feed">




<link rel="icon" href="/img/angular_momentum.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(37,194,160)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/img/angular_momentum.png">
<link rel="mask-icon" href="/img/angular_momentum.png" color="rgb(33,33,33)">
<meta name="msapplication-TileImage" content="/img/angular_momentum.png">
<meta name="msapplication-TileColor" content="#000">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-P74BDWF0C6"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-P74BDWF0C6",{})</script><link rel="stylesheet" href="/assets/css/styles.714c4925.css">
<link rel="preload" href="/assets/js/runtime~main.23698315.js" as="script">
<link rel="preload" href="/assets/js/main.2d20e69f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/angular_momentum.png" alt="Mike Polinowski :: Dev Notebook" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/angular_momentum.png" alt="Mike Polinowski :: Dev Notebook" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Mike Polinowski</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/tags">Tags</a><a class="navbar__item navbar__link" href="/Search">Search</a><a href="https://mpolinowski.github.io/Personal" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">About<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mpolinowski" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/development">Development</a><button aria-label="Toggle the collapsible sidebar category &#x27;Development&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/javascript">Javascript</a><button aria-label="Toggle the collapsible sidebar category &#x27;Javascript&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-12-29-reactive-search-starter/2022-12-29">Reactive Search Starter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-12-11-11ty-starter/2022-12-11">11ty Static Site Generator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-11-29-react-typescript-intro-2023/2022-11-29">TypeScript 2.0 in React 19 (2023)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-11-19-web3-javascript-app/2022-11-19">Web3.js Blockchain Application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-11-10-webrtc-introduction-video-chat-part2/2022-11-10">WebRTC Introduction - Interactive Connectivity Establishment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-10-30-webrtc-introduction-video-chat-part1/2022-10-30">WebRTC Introduction - Client Side Signalling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-10-29-webrtc-introduction-realtime-chat/2022-10-29">WebRTC Introduction - Realtime Chat</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-07-01-docusaurus-introduction/2022-07-01">Docusaurus Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-03-01--json-apis-training/2022-03-01">Working with JSON APIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-09-10--websocket-recconects/2021-09-10">Reconnecting Websockets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-09-10--notifications-alerts-as-toast/2021-09-10">Convert Alerts into Toasts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-09-09--websocket-NGINX/2021-09-09">NGINX as a Proxy for Websockets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-09-09--websocket-HAproxy/2021-09-09">HAProxy Loadbalancing and Websockets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-09-08--websockets-html-video/2021-09-08">HTML Video over Websockets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-09-07--intro-to-websockets/2021-09-07">Introduction to Websockets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-06-04--mqtt-dashboard-react/2021-06-04">React Dashboard for MQTT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Development/Javascript/2021-06-02--mqtt-cheat-sheet/2021-06-02">Mosquitto MQTT Cheat Sheet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-06-01--mqtt-with-reactjs/2021-06-01">MQTT Webfrontend with React.js</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-05-12-carbon-design-react-part3/2021-05-12">Carbon Design System in React.js - Part III</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-05-11-carbon-design-react-part2/2021-05-11">Carbon Design System in React.js - Part II</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-05-10-carbon-design-react/2021-05-10">Carbon Design System in React.js - Part I</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-05-09-electron13-and-react/2021-05-09">Electron@13 and Create-React-App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-05-08-electron13-gatsby-wrapper/2021-05-08">Electron@13 as a Gatsby.js Wrapper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-05-07-electron-cross-platform-apps/2021-05-07">Electron for Cross Platform Applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-02-14-next-js-2021/2021-02-14">Next.js in 2021</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2020-01-12--node-express-redirect-server/2020-01-12">Web traffic redirection with Node and Express on CentOS8</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2019-08-02--building-an-mqtt-interface/2019-08-02">Building a MQTT Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2018-01-17--server-side-render-react-router/2018-01-17">Server Rendering with React and React Router</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2018-01-15--react-transition-group-demo/2018-01-15">react-transition-group</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2018-01-07--gatsby-material-ui-starter/2018-01-07">Gatsby Material UI Starter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-12-17--gatsby-reactstrap/2017-12-17">Gatsby.js with Bootstrap 4</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-12-14--gatsby-wiki/2017-12-14">Gatsby.js Knowledgebase</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-12-09--next-start/2017-12-09">Next.js Server Side Rendering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-12-07--react-router-4/2017-12-07">React Router 4</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-09-03--react-under-the-hood/2017-09-03">React under the Hood</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-08-21--reactive-material/2017-08-21">create-react-app and Material-UI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-08-15--gatsby-blog-starter/2017-08-15">Gatsby Blog Starter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-08-07--google-analytics-amp/2017-08-07">Google Analytics in AMP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-07-24--obligatory-react-todo-list/2017-07-24">React TODO List</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-07-22--caloric-burn/2017-07-22">Food Caloric Table App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-07-04--random-password-generator/2017-07-04">Random Password Generator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2016-08-11--node-express-static-wiki/2016-08-11">Node Express Static</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2016-06-01--node-express-mongodb/2016-06-01">Node/Express with MongoDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2016-05-27--javascript-apis-and-ajax/2016-05-27">JavaScript and Getting Started with APIs and AJAX</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2010-01-05--markdown-live-code/2010-01-05">React-Live &amp; Code example</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2010-01-01--mdx/2010-01-01">Markdown Cheatsheet</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/python">Python</a><button aria-label="Toggle the collapsible sidebar category &#x27;Python&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/go">Go</a><button aria-label="Toggle the collapsible sidebar category &#x27;Go&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/graphs">Graphs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Graphs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/react-native">React Native</a><button aria-label="Toggle the collapsible sidebar category &#x27;React Native&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/magento">Magento</a><button aria-label="Toggle the collapsible sidebar category &#x27;Magento&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/misc">Misc</a><button aria-label="Toggle the collapsible sidebar category &#x27;Misc&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/devops">DevOps</a><button aria-label="Toggle the collapsible sidebar category &#x27;DevOps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/internet-of-things--machine-learning">Internet-of-Things &amp; Machine Learning</a><button aria-label="Toggle the collapsible sidebar category &#x27;Internet-of-Things &amp; Machine Learning&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/development"><span itemprop="name">Development</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/javascript"><span itemprop="name">Javascript</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Mosquitto MQTT Cheat Sheet</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Mosquitto MQTT Cheat Sheet</h1></header><p><img loading="lazy" alt="Victoria Harbour, Hongkong" src="/assets/images/photo-kt443t6d_64hdh43hfh6dgjdfhg4_d-ec75d5087582b8f10fb3dbbf1f8b5a5e.jpg" width="1500" height="491" class="img_ev3q"></p><ul><li><a href="#installation-linux">Installation LINUX</a><ul><li><a href="#configuration">Configuration</a><ul><li><a href="#changing-the-port">Changing the Port</a></li><li><a href="#changing-the-user-login">Changing the User Login</a></li><li><a href="#adding-additional-users">Adding additional users</a></li><li><a href="#deleting-users">Deleting Users</a></li><li><a href="#activating-user-auth">Activating User Auth</a></li><li><a href="#access-control-list">Access Control List</a></li></ul></li></ul></li><li><a href="#publish--subscribe">Publish &amp; Subscribe</a><ul><li><a href="#pub-flags">Pub Flags</a></li><li><a href="#sub-flags">Sub Flags</a></li><li><a href="#debugging">Debugging</a></li><li><a href="#retaining">Retaining</a><ul><li><a href="#clearing-retained-topics">Clearing Retained Topics</a></li></ul></li><li><a href="#quality-of-service">Quality-of-Service</a><ul><li><a href="#qos-0">QoS 0</a></li><li><a href="#qos-1">QoS 1</a></li><li><a href="#qos-2">QoS 2</a></li></ul></li><li><a href="#client-name">Client Name</a></li><li><a href="#wildcards">Wildcards</a><ul><li><a href="#plus">Plus</a></li><li><a href="#hash">Hash</a></li></ul></li></ul></li><li><a href="#default-mosquittoconf">Default mosquitto.conf</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation-linux">Installation LINUX<a class="hash-link" href="#installation-linux" title="Direct link to heading">​</a></h2><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">apt</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">apt-cache</span><span class="token plain"> search mosquitto</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> mosquitto</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And Mosquitto was successfully installed and is listening on the default port <code>1883</code>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">netstat</span><span class="token plain"> -tlnp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Active Internet connections </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">only servers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tcp        </span><span class="token number">0</span><span class="token plain">      </span><span class="token number">0</span><span class="token plain"> </span><span class="token number">0.0</span><span class="token plain">.0.0:22              </span><span class="token number">0.0</span><span class="token plain">.0.0:*               LISTEN      </span><span class="token number">464</span><span class="token plain">/sshd: /usr/sbin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tcp        </span><span class="token number">0</span><span class="token plain">      </span><span class="token number">0</span><span class="token plain"> </span><span class="token number">127.0</span><span class="token plain">.0.1:1883          </span><span class="token number">0.0</span><span class="token plain">.0.0:*               LISTEN      </span><span class="token number">1692</span><span class="token plain">/mosquitto</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tcp6       </span><span class="token number">0</span><span class="token plain">      </span><span class="token number">0</span><span class="token plain"> :::22                   :::*                    LISTEN      </span><span class="token number">464</span><span class="token plain">/sshd: /usr/sbin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tcp6       </span><span class="token number">0</span><span class="token plain">      </span><span class="token number">0</span><span class="token plain"> ::1:1883                :::*                    LISTEN      </span><span class="token number">1692</span><span class="token plain">/mosquitto</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The service can be stopped and restarted with <code>systemctl</code>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">service</span><span class="token plain"> mosquitto status</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">service</span><span class="token plain"> mosquitto stop</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">service</span><span class="token plain"> mosquitto start</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">service</span><span class="token plain"> mosquitto restart</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a class="hash-link" href="#configuration" title="Direct link to heading">​</a></h3><p>To configure Mosquitto put <strong>*<!-- -->.conf</strong> files into the <code>/etc/mosquitto/conf.d/</code> directory. Any files placed in this directory that have a .conf ending will be loaded as config files by the broker. My broker was missing the default config template after installation ~ <a href="#default-mosquittoconf">so I added it here at the end of the article</a>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">nano</span><span class="token plain"> /etc/mosquitto/conf.d/custom.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="changing-the-port">Changing the Port<a class="hash-link" href="#changing-the-port" title="Direct link to heading">​</a></h4><p>E.g. change the listener port from <code>1883</code> to <code>1885</code> and restart the service:</p><div class="language-cfg codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cfg codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Port to use for the default listener</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">listener 1885</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># After copying in the default config this was suddenly set to false - I set it back to true for now</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">allow_anonymous false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You now have to add the port to every sub &amp; pub:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_sub -h localhost -t /hello/world -p </span><span class="token number">1885</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_pub -h localhost -t /hello/world -m </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;welcome!&#x27;</span><span class="token plain"> -p </span><span class="token number">1885</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="changing-the-user-login">Changing the User Login<a class="hash-link" href="#changing-the-user-login" title="Direct link to heading">​</a></h4><p>In the following command replace the <code>user</code> with your username:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_passwd -c passwordfile user</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The password tool will ask you for your password and add the user to Mosquitto:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_passwd -c passwordfile admin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Password: instar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Reenter password: instar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="adding-additional-users">Adding additional users<a class="hash-link" href="#adding-additional-users" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_passwd -b passwordfile user password</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="deleting-users">Deleting Users<a class="hash-link" href="#deleting-users" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_passwd -D passwordfile user</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="activating-user-auth">Activating User Auth<a class="hash-link" href="#activating-user-auth" title="Direct link to heading">​</a></h4><p>Copy the <code>passwordfile</code> to where you want to store it:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">cp</span><span class="token plain"> passwordfile /etc/mosquitto/passwordfile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Deactivate the anonymous login and add the <code>passwordfile</code> path to your Mosquitto config:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">allow_anonymous </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">password_file /etc/mosquitto/passwordfile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Restart the service and try using it with your new user:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_sub -h localhost -t /hello/world -p </span><span class="token number">1885</span><span class="token plain"> -u admin -P instar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_pub -h localhost -t /hello/world -m </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;welcome!&#x27;</span><span class="token plain"> -p </span><span class="token number">1885</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="access-control-list">Access Control List<a class="hash-link" href="#access-control-list" title="Direct link to heading">​</a></h4><p>Mosquitto comes with a default ACL file <code>cat /etc/mosquitto/aclfile.example</code>:</p><div class="language-cfg codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cfg codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This affects access control for clients with no username.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">topic read $SYS/#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This only affects clients with username &quot;roger&quot;.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">user roger</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">topic foo/bar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This affects all clients.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pattern write $SYS/broker/connection/%c/state</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Copy that file <code>cp /etc/mosquitto/aclfile.example /etc/mosquitto/acl.file</code> and add the <code>admin</code> user there:</p><div class="language-cfg codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cfg codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">user admin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">topic readwrite cameras/#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">topic read $SYS/broker/#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">topic write hello/world</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now add the <code>acl.file</code> file location to your mosquitto config and reload the service <code>service mosquitto restart</code>:</p><div class="language-cfg codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cfg codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If an auth_plugin is used as well as acl_file, the auth_plugin check will be</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># made first.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">acl_file /etc/mosquitto/acl.file</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can now <strong>read &amp; write</strong> all topics starting with <code>cameras/</code>, <strong>only read</strong> broker status topics <code>$SYS/broker/</code> and only write to <code>hello/world</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="publish--subscribe">Publish &amp; Subscribe<a class="hash-link" href="#publish--subscribe" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pub-flags">Pub Flags<a class="hash-link" href="#pub-flags" title="Direct link to heading">​</a></h3><blockquote><p>mosquitto_pub -h host -t topic –m message</p></blockquote><ul><li><strong>-r</strong> : Sets retain flag</li><li><strong>-n</strong> : Sends Null message useful for clearing retain message.</li><li><strong>-p</strong> : Set Port number Default is 1883</li><li><strong>-u</strong> : Provide a username</li><li><strong>-P</strong> : Provide a password</li><li><strong>-i</strong> : Provide client name</li><li><strong>-I</strong> : Provide a client id prefix- Used when testing client restrictions using prefix
security.</li><li><strong>-q</strong> : QoS Specify the quality of service to use for the message, from 0, 1 and 2.
Defaults to 0</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sub-flags">Sub Flags<a class="hash-link" href="#sub-flags" title="Direct link to heading">​</a></h3><blockquote><p>mosquitto_sub -h host -t topic</p></blockquote><ul><li><strong>-p</strong> : Set Port number Default is 1883</li><li><strong>-u</strong> : Provide a username</li><li><strong>-P</strong> : Provide a password</li><li><strong>-i</strong> : Provide client name</li><li><strong>-I</strong> : Provide a client id prefix- Used when testing client restrictions using prefix
security</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="debugging">Debugging<a class="hash-link" href="#debugging" title="Direct link to heading">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_sub -h localhost -t /hello/world -d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_pub -h localhost -t /hello/world -m </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;welcome!&#x27;</span><span class="token plain"> -d</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending CONNECT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received CONNACK </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending PUBLISH </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">d0, q0, r0, m1, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/hello/world&#x27;</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">. </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">8</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending DISCONNECT</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><table><thead><tr><th>Publish Parameter</th><th>Description</th></tr></thead><tbody><tr><td>d0 / d1</td><td>?</td></tr><tr><td>q0 - q2</td><td>QoS 0-2</td></tr><tr><td>r0 / r1</td><td>Retained</td></tr><tr><td>m0 / m1</td><td>Message Payload</td></tr></tbody></table><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_sub -h localhost -t /hello/world -d</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending CONNECT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received CONNACK </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending SUBSCRIBE </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Mid: </span><span class="token number">1</span><span class="token plain">, Topic: /hello/world, QoS: </span><span class="token number">0</span><span class="token plain">, Options: 0x00</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received SUBACK</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Subscribed </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">mid: </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">: </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received PUBLISH </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">d0, q0, r0, m0, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/hello/world&#x27;</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">. </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">8</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">welcome</span><span class="token operator">!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="retaining">Retaining<a class="hash-link" href="#retaining" title="Direct link to heading">​</a></h3><p>If you send an update and then subscribe to the topic afterwards you will not receive the update:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_pub -h localhost -t /hello/world -m </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;welcome!&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_sub -h localhost -t /</span><span class="token comment" style="color:rgb(98, 114, 164)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&lt;</span><span class="token plain">no messages</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Unlesss the update was send with the <code>retained</code> flag:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_pub -h localhost -t /hello/world -m </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;welcome!&#x27;</span><span class="token plain"> -r</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Re-run the subscription and you will see the retained message:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_sub -h localhost -t /</span><span class="token comment" style="color:rgb(98, 114, 164)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending CONNECT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received CONNACK </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending SUBSCRIBE </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Mid: </span><span class="token number">1</span><span class="token plain">, Topic: /</span><span class="token comment" style="color:rgb(98, 114, 164)">#, QoS: 0, Options: 0x00)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received SUBACK</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Subscribed </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">mid: </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">: </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received PUBLISH </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">d0, q0, r1, m0, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/hello/world&#x27;</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">. </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">8</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">welcome</span><span class="token operator">!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="clearing-retained-topics">Clearing Retained Topics<a class="hash-link" href="#clearing-retained-topics" title="Direct link to heading">​</a></h4><p>To clear (null) a retained topic use the <code>-n</code> flag</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_pub -h localhost -t /hello/world -d -n</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending CONNECT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received CONNACK </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending PUBLISH </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">d0, q0, r0, m1, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/hello/world&#x27;</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">. </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending DISCONNECT</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Your subscriber will now set the topic from <code>r1</code> to <code>r0</code>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_sub -h localhost -t /</span><span class="token comment" style="color:rgb(98, 114, 164)"># -d</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending CONNECT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received CONNACK </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending SUBSCRIBE </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Mid: </span><span class="token number">1</span><span class="token plain">, Topic: /</span><span class="token comment" style="color:rgb(98, 114, 164)">#, QoS: 0, Options: 0x00)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received SUBACK</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Subscribed </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">mid: </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">: </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received PUBLISH </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">d0, q0, r1, m0, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/hello/world&#x27;</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">. </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">8</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">welcome</span><span class="token operator">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received PUBLISH </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">d0, q0, r0, m0, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/hello/world&#x27;</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">. </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="quality-of-service">Quality-of-Service<a class="hash-link" href="#quality-of-service" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="qos-0">QoS 0<a class="hash-link" href="#qos-0" title="Direct link to heading">​</a></h4><p><strong>Fire&amp;Forget</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_pub -h localhost -t /hello/world -m </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;welcome!&#x27;</span><span class="token plain"> -d -q </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending CONNECT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received CONNACK </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending PUBLISH </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">d0, q0, r0, m1, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/hello/world&#x27;</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">. </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">8</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending DISCONNECT</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="qos-1">QoS 1<a class="hash-link" href="#qos-1" title="Direct link to heading">​</a></h4><p><strong>Every Subscriber will Receive the Update</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_pub -h localhost -t /hello/world -m </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;welcome!&#x27;</span><span class="token plain"> -d -q </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending CONNECT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received CONNACK </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending PUBLISH </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">d0, q1, r0, m1, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/hello/world&#x27;</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">. </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">8</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received PUBACK </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Mid: </span><span class="token number">1</span><span class="token plain">, RC:0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending DISCONNECT</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="qos-2">QoS 2<a class="hash-link" href="#qos-2" title="Direct link to heading">​</a></h4><p><strong>Every Subscriber will Receive the Update exactly one time!</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_pub -h localhost -t /hello/world -m </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;welcome!&#x27;</span><span class="token plain"> -d -q </span><span class="token number">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending CONNECT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received CONNACK </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending PUBLISH </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">d0, q2, r0, m1, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/hello/world&#x27;</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">. </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">8</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received PUBREC </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Mid: </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending PUBREL </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">m1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received PUBCOMP </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Mid: </span><span class="token number">1</span><span class="token plain">, RC:0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sending DISCONNECT</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The receiver always receives the update with <code>q0</code> - you need to run your subscription with the <code>q1</code> or <code>q2</code> flag (<strong>why is that?</strong>). Se below - I published the update 3 times with different QoS values:</p><p><strong>q0</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_sub -h localhost -t /</span><span class="token comment" style="color:rgb(98, 114, 164)"># -d</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received PUBLISH </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">d0, q0, r0, m0, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/hello/world&#x27;</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">. </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">8</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">welcome</span><span class="token operator">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received PUBLISH </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">d0, q0, r0, m0, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/hello/world&#x27;</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">. </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">8</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">welcome</span><span class="token operator">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> received PUBLISH </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">d0, q0, r0, m0, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/hello/world&#x27;</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">. </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">8</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">welcome</span><span class="token operator">!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If I redo the <code>q2</code> publish but make sure that the receiver is also set to <code>q2</code>:</p><p><strong>q2</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_pub -h localhost -t /hello/world -m </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;welcome!&#x27;</span><span class="token plain"> -q </span><span class="token number">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_sub -h localhost -t /# -d -q 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client (null) received PUBLISH (d0, q2, r0, m1, &#x27;/hello/world&#x27;, ... (8 bytes))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client (null) sending PUBREC (m1, rc0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client (null) received PUBREL (Mid: 1)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client (null) sending PUBCOMP (m1)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">welcome!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="client-name">Client Name<a class="hash-link" href="#client-name" title="Direct link to heading">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_pub -h localhost -t /hello/world -m </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;welcome!&#x27;</span><span class="token plain"> -i </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;MosquittoPub&#x27;</span><span class="token plain"> -d</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client MosquittoPub sending CONNECT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client MosquittoPub received CONNACK </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client MosquittoPub sending PUBLISH </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">d0, q0, r0, m1, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/hello/world&#x27;</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">. </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">8</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client MosquittoPub sending DISCONNEC</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_sub -h localhost -t /</span><span class="token comment" style="color:rgb(98, 114, 164)"># -d -i &#x27;MosquittoSub&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client MosquittoSub sending CONNECT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client MosquittoSub received CONNACK </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client MosquittoSub sending SUBSCRIBE </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Mid: </span><span class="token number">1</span><span class="token plain">, Topic: /</span><span class="token comment" style="color:rgb(98, 114, 164)">#, QoS: 0, Options: 0x00)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client MosquittoSub received SUBACK</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Subscribed </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">mid: </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">: </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client MosquittoSub received PUBLISH </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">d0, q0, r0, m0, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/hello/world&#x27;</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">. </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">8</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">welcome</span><span class="token operator">!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wildcards">Wildcards<a class="hash-link" href="#wildcards" title="Direct link to heading">​</a></h3><p>Receiving the the measurements of different sensors with a single subscription:</p><ul><li>sensors/altimeter1/altitude</li><li>sensors/altimeter2/altitude</li><li>sensors/altimeter3/altitude</li><li>sensors/altimeter4/altitude</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="plus">Plus<a class="hash-link" href="#plus" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_sub -h localhost -t sensors/+/altitude -v</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sensors/altimeter1/altitude </span><span class="token number">200</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sensors/altimeter2/altitude </span><span class="token number">201</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sensors/altimeter3/altitude </span><span class="token number">199</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sensors/altimeter4/altitude </span><span class="token number">198</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="hash">Hash<a class="hash-link" href="#hash" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mosquitto_sub -h localhost -t sensors/</span><span class="token comment" style="color:rgb(98, 114, 164)"># -v</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sensors/altimeter1/operation active</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sensors/altimeter1/status green</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sensors/altimeter1/altitude </span><span class="token number">200</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sensors/altimeter2/operation active</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sensors/altimeter2/status green</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sensors/altimeter2/altitude </span><span class="token number">201</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sensors/altimeter3/operation active</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sensors/altimeter3/status green</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sensors/altimeter3/altitude </span><span class="token number">199</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sensors/altimeter4/operation active</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sensors/altimeter4/status green</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sensors/altimeter4/altitude </span><span class="token number">198</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="default-mosquittoconf">Default mosquitto.conf<a class="hash-link" href="#default-mosquittoconf" title="Direct link to heading">​</a></h2><p>This file contains the default values for the Mosquitto (v.2.0.11) configuration. Copy it to <code>/etc/mosquitto/conf.d/custom.conf</code> and modify the values you need to change:</p><div class="language-cfg codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cfg codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Config file for mosquitto</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># See mosquitto.conf(5) for more information.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Default values are shown, uncomment to change.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Use the # character to indicate a comment, but only if it is the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># very first character on the line.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># =================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># General configuration</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># =================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Use per listener security settings.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># It is recommended this option be set before any other options.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If this option is set to true, then all authentication and access control</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># options are controlled on a per listener basis. The following options are</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># affected:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># password_file acl_file psk_file auth_plugin auth_opt_* allow_anonymous</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># auto_id_prefix allow_zero_length_clientid</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Note that if set to true, then a durable client (i.e. with clean session set</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># to false) that has disconnected will use the ACL settings defined for the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># listener that it was most recently connected to.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The default behaviour is for this to be set to false, which maintains the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># setting behaviour from previous versions of mosquitto.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#per_listener_settings false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This option controls whether a client is allowed to connect with a zero</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># length client id or not. This option only affects clients using MQTT v3.1.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># and later. If set to false, clients connecting with a zero length client id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># are disconnected. If set to true, clients will be allocated a client id by</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the broker. This means it is only useful for clients with clean session set</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># to true.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#allow_zero_length_clientid true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If allow_zero_length_clientid is true, this option allows you to set a prefix</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># to automatically generated client ids to aid visibility in logs.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Defaults to &#x27;auto-&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#auto_id_prefix auto-</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This option affects the scenario when a client subscribes to a topic that has</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># retained messages. It is possible that the client that published the retained</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># message to the topic had access at the time they published, but that access</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># has been subsequently removed. If check_retain_source is set to true, the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># default, the source of a retained message will be checked for access rights</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># before it is republished. When set to false, no check will be made and the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># retained message will always be published. This affects all listeners.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#check_retain_source true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># QoS 1 and 2 messages will be allowed inflight per client until this limit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># is exceeded.  Defaults to 0. (No maximum)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># See also max_inflight_messages</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#max_inflight_bytes 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The maximum number of QoS 1 and 2 messages currently inflight per</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># client.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This includes messages that are partway through handshakes and</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># those that are being retried. Defaults to 20. Set to 0 for no</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># maximum. Setting to 1 will guarantee in-order delivery of QoS 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># and 2 messages.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#max_inflight_messages 20</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># For MQTT v5 clients, it is possible to have the server send a &quot;server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># keepalive&quot; value that will override the keepalive value set by the client.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This is intended to be used as a mechanism to say that the server will</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># disconnect the client earlier than it anticipated, and that the client should</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># use the new keepalive value. The max_keepalive option allows you to specify</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># that clients may only connect with keepalive less than or equal to this</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># value, otherwise they will be sent a server keepalive telling them to use</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># max_keepalive. This only applies to MQTT v5 clients. The maximum value</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># allowable is 65535. Do not set below 10.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#max_keepalive 65535</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># For MQTT v5 clients, it is possible to have the server send a &quot;maximum packet</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># size&quot; value that will instruct the client it will not accept MQTT packets</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># with size greater than max_packet_size bytes. This applies to the full MQTT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># packet, not just the payload. Setting this option to a positive value will</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># set the maximum packet size to that number of bytes. If a client sends a</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># packet which is larger than this value, it will be disconnected. This applies</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># to all clients regardless of the protocol version they are using, but v3.1.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># and earlier clients will of course not have received the maximum packet size</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># information. Defaults to no limit. Setting below 20 bytes is forbidden</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># because it is likely to interfere with ordinary client operation, even with</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># very small payloads.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#max_packet_size 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># QoS 1 and 2 messages above those currently in-flight will be queued per</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># client until this limit is exceeded.  Defaults to 0. (No maximum)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># See also max_queued_messages.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If both max_queued_messages and max_queued_bytes are specified, packets will</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># be queued until the first limit is reached.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#max_queued_bytes 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set the maximum QoS supported. Clients publishing at a QoS higher than</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># specified here will be disconnected.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#max_qos 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The maximum number of QoS 1 and 2 messages to hold in a queue per client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># above those that are currently in-flight.  Defaults to 1000. Set</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># to 0 for no maximum (not recommended).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># See also queue_qos0_messages.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># See also max_queued_bytes.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#max_queued_messages 1000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This option sets the maximum number of heap memory bytes that the broker will</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># allocate, and hence sets a hard limit on memory use by the broker.  Memory</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># requests that exceed this value will be denied. The effect will vary</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># depending on what has been denied. If an incoming message is being processed,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># then the message will be dropped and the publishing client will be</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># disconnected. If an outgoing message is being sent, then the individual</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># message will be dropped and the receiving client will be disconnected.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Defaults to no limit.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#memory_limit 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This option sets the maximum publish payload size that the broker will allow.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Received messages that exceed this size will not be accepted by the broker.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The default value is 0, which means that all valid MQTT messages are</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># accepted. MQTT imposes a maximum payload size of 268435455 bytes.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#message_size_limit 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This option allows persistent clients (those with clean session set to false)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># to be removed if they do not reconnect within a certain time frame.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This is a non-standard option in MQTT V3.1 but allowed in MQTT v3.1.1.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Badly designed clients may set clean session to false whilst using a randomly</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># generated client id. This leads to persistent clients that will never</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># reconnect. This option allows these clients to be removed.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The expiration period should be an integer followed by one of h d w m y for</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># hour, day, week, month and year respectively. For example</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># persistent_client_expiration 2m</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># persistent_client_expiration 14d</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># persistent_client_expiration 1y</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The default if not set is to never expire persistent clients.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#persistent_client_expiration</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Write process id to a file. Default is a blank string which means</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># a pid file shouldn&#x27;t be written.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This should be set to /var/run/mosquitto/mosquitto.pid if mosquitto is</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># being run automatically on boot with an init script and</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># start-stop-daemon or similar.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#pid_file</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set to true to queue messages with QoS 0 when a persistent client is</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># disconnected. These messages are included in the limit imposed by</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># max_queued_messages and max_queued_bytes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Defaults to false.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This is a non-standard option for the MQTT v3.1 spec but is allowed in</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># v3.1.1.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#queue_qos0_messages false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set to false to disable retained message support. If a client publishes a</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># message with the retain bit set, it will be disconnected if this is set to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># false.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#retain_available true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Disable Nagle&#x27;s algorithm on client sockets. This has the effect of reducing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># latency of individual messages at the potential cost of increasing the number</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># of packets being sent.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#set_tcp_nodelay false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Time in seconds between updates of the $SYS tree.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set to 0 to disable the publishing of the $SYS tree.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#sys_interval 10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The MQTT specification requires that the QoS of a message delivered to a</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># subscriber is never upgraded to match the QoS of the subscription. Enabling</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># this option changes this behaviour. If upgrade_outgoing_qos is set true,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># messages sent to a subscriber will always match the QoS of its subscription.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This is a non-standard option explicitly disallowed by the spec.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#upgrade_outgoing_qos false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># When run as root, drop privileges to this user and its primary</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># group.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set to root to stay as root, but this is not recommended.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If set to &quot;mosquitto&quot;, or left unset, and the &quot;mosquitto&quot; user does not exist</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># then it will drop privileges to the &quot;nobody&quot; user instead.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If run as a non-root user, this setting has no effect.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Note that on Windows this has no effect and so mosquitto should be started by</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the user you wish it to run as.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#user mosquitto</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># =================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Listeners</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># =================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Listen on a port/ip address combination. By using this variable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># multiple times, mosquitto can listen on more than one port. If</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># this variable is used and neither bind_address nor port given,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># then the default listener will not be started.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The port number to listen on must be given. Optionally, an ip</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># address or host name may be supplied as a second argument. In</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># this case, mosquitto will attempt to bind the listener to that</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># address and so restrict access to the associated network and</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># interface. By default, mosquitto will listen on all interfaces.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Note that for a websockets listener it is not possible to bind to a host</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># name.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># On systems that support Unix Domain Sockets, it is also possible</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># to create a # Unix socket rather than opening a TCP socket. In</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># this case, the port number should be set to 0 and a unix socket</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># path must be provided, e.g.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># listener 0 /tmp/mosquitto.sock</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># listener port-number [ip address/host name/unix socket path]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#listener</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># By default, a listener will attempt to listen on all supported IP protocol</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># versions. If you do not have an IPv4 or IPv6 interface you may wish to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># disable support for either of those protocol versions. In particular, note</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># that due to the limitations of the websockets library, it will only ever</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># attempt to open IPv6 sockets if IPv6 support is compiled in, and so will fail</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># if IPv6 is not available.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set to `ipv4` to force the listener to only use IPv4, or set to `ipv6` to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># force the listener to only use IPv6. If you want support for both IPv4 and</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># IPv6, then do not use the socket_domain option.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#socket_domain</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Bind the listener to a specific interface. This is similar to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the [ip address/host name] part of the listener definition, but is useful</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># when an interface has multiple addresses or the address may change. If used</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># with the [ip address/host name] part of the listener definition, then the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># bind_interface option will take priority.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Not available on Windows.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Example: bind_interface eth0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#bind_interface</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># When a listener is using the websockets protocol, it is possible to serve</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># http data as well. Set http_dir to a directory which contains the files you</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># wish to serve. If this option is not specified, then no normal http</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># connections will be possible.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#http_dir</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The maximum number of client connections to allow. This is</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># a per listener setting.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Default is -1, which means unlimited connections.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Note that other process limits mean that unlimited connections</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># are not really possible. Typically the default maximum number of</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># connections possible is around 1024.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#max_connections -1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The listener can be restricted to operating within a topic hierarchy using</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the mount_point option. This is achieved be prefixing the mount_point string</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># to all topics for any clients connected to this listener. This prefixing only</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># happens internally to the broker; the client will not see the prefix.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#mount_point</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Choose the protocol to use when listening.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This can be either mqtt or websockets.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Certificate based TLS may be used with websockets, except that only the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># cafile, certfile, keyfile, ciphers, and ciphers_tls13 options are supported.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#protocol mqtt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set use_username_as_clientid to true to replace the clientid that a client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># connected with with its username. This allows authentication to be tied to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the clientid, which means that it is possible to prevent one client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># disconnecting another by using the same clientid.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If a client connects with no username it will be disconnected as not</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># authorised when this option is set to true.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Do not use in conjunction with clientid_prefixes.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># See also use_identity_as_username.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#use_username_as_clientid</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Change the websockets headers size. This is a global option, it is not</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># possible to set per listener. This option sets the size of the buffer used in</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the libwebsockets library when reading HTTP headers. If you are passing large</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># header data such as cookies then you may need to increase this value. If left</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># unset, or set to 0, then the default of 1024 bytes will be used.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#websockets_headers_size</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># -----------------------------------------------------------------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Certificate based SSL/TLS support</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># -----------------------------------------------------------------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The following options can be used to enable certificate based SSL/TLS support</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># for this listener. Note that the recommended port for MQTT over TLS is 8883,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># but this must be set manually.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># See also the mosquitto-tls man page and the &quot;Pre-shared-key based SSL/TLS</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># support&quot; section. Only one of certificate or PSK encryption support can be</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># enabled for any listener.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Both of certfile and keyfile must be defined to enable certificate based</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># TLS encryption.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Path to the PEM encoded server certificate.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#certfile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Path to the PEM encoded keyfile.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#keyfile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If you wish to control which encryption ciphers are used, use the ciphers</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># option. The list of available ciphers can be optained using the &quot;openssl</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ciphers&quot; command and should be provided in the same format as the output of</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># that command. This applies to TLS 1.2 and earlier versions only. Use</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ciphers_tls1.3 for TLS v1.3.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#ciphers</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Choose which TLS v1.3 ciphersuites are used for this listener.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Defaults to &quot;TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#ciphers_tls1.3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If you have require_certificate set to true, you can create a certificate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># revocation list file to revoke access to particular client certificates. If</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># you have done this, use crlfile to point to the PEM encoded revocation file.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#crlfile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># To allow the use of ephemeral DH key exchange, which provides forward</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># security, the listener must load DH parameters. This can be specified with</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the dhparamfile option. The dhparamfile can be generated with the command</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># e.g. &quot;openssl dhparam -out dhparam.pem 2048&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#dhparamfile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># By default an TLS enabled listener will operate in a similar fashion to a</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># https enabled web server, in that the server has a certificate signed by a CA</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># and the client will verify that it is a trusted certificate. The overall aim</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># is encryption of the network traffic. By setting require_certificate to true,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the client must provide a valid certificate in order for the network</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># connection to proceed. This allows access to the broker to be controlled</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># outside of the mechanisms provided by MQTT.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#require_certificate false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># cafile and capath define methods of accessing the PEM encoded</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Certificate Authority certificates that will be considered trusted when</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># checking incoming client certificates.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># cafile defines the path to a file containing the CA certificates.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># capath defines a directory that will be searched for files</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># containing the CA certificates. For capath to work correctly, the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># certificate files must have &quot;.crt&quot; as the file ending and you must run</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># &quot;openssl rehash &lt;path to capath&gt;&quot; each time you add/remove a certificate.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#cafile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#capath</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If require_certificate is true, you may set use_identity_as_username to true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># to use the CN value from the client certificate as a username. If this is</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># true, the password_file option will not be used for this listener.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#use_identity_as_username false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># -----------------------------------------------------------------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Pre-shared-key based SSL/TLS support</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># -----------------------------------------------------------------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The following options can be used to enable PSK based SSL/TLS support for</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># this listener. Note that the recommended port for MQTT over TLS is 8883, but</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># this must be set manually.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># See also the mosquitto-tls man page and the &quot;Certificate based SSL/TLS</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># support&quot; section. Only one of certificate or PSK encryption support can be</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># enabled for any listener.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The psk_hint option enables pre-shared-key support for this listener and also</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># acts as an identifier for this listener. The hint is sent to clients and may</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># be used locally to aid authentication. The hint is a free form string that</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># doesn&#x27;t have much meaning in itself, so feel free to be creative.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If this option is provided, see psk_file to define the pre-shared keys to be</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># used or create a security plugin to handle them.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#psk_hint</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># When using PSK, the encryption ciphers used will be chosen from the list of</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># available PSK ciphers. If you want to control which ciphers are available,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># use the &quot;ciphers&quot; option.  The list of available ciphers can be optained</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># using the &quot;openssl ciphers&quot; command and should be provided in the same format</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># as the output of that command.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#ciphers</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set use_identity_as_username to have the psk identity sent by the client used</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># as its username. Authentication will be carried out using the PSK rather than</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the MQTT username/password and so password_file will not be used for this</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># listener.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#use_identity_as_username false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># =================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Persistence</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># =================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If persistence is enabled, save the in-memory database to disk</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># every autosave_interval seconds. If set to 0, the persistence</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># database will only be written when mosquitto exits. See also</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># autosave_on_changes.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Note that writing of the persistence database can be forced by</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># sending mosquitto a SIGUSR1 signal.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#autosave_interval 1800</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If true, mosquitto will count the number of subscription changes, retained</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># messages received and queued messages and if the total exceeds</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># autosave_interval then the in-memory database will be saved to disk.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If false, mosquitto will save the in-memory database to disk by treating</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># autosave_interval as a time in seconds.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#autosave_on_changes false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Save persistent message data to disk (true/false).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This saves information about all messages, including</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># subscriptions, currently in-flight messages and retained</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># messages.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># retained_persistence is a synonym for this option.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#persistence false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The filename to use for the persistent database, not including</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the path.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#persistence_file mosquitto.db</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Location for persistent database.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Default is an empty string (current directory).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set to e.g. /var/lib/mosquitto if running as a proper service on Linux or</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># similar.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#persistence_location</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># =================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Logging</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># =================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Places to log to. Use multiple log_dest lines for multiple</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># logging destinations.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Possible destinations are: stdout stderr syslog topic file dlt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># stdout and stderr log to the console on the named output.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># syslog uses the userspace syslog facility which usually ends up</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># in /var/log/messages or similar.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># topic logs to the broker topic &#x27;$SYS/broker/log/&lt;severity&gt;&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># where severity is one of D, E, W, N, I, M which are debug, error,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># warning, notice, information and message. Message type severity is used by</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the subscribe/unsubscribe log_types and publishes log messages to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># $SYS/broker/log/M/susbcribe or $SYS/broker/log/M/unsubscribe.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The file destination requires an additional parameter which is the file to be</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># logged to, e.g. &quot;log_dest file /var/log/mosquitto.log&quot;. The file will be</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># closed and reopened when the broker receives a HUP signal. Only a single file</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># destination may be configured.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The dlt destination is for the automotive `Diagnostic Log and Trace` tool.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This requires that Mosquitto has been compiled with DLT support.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Note that if the broker is running as a Windows service it will default to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># &quot;log_dest none&quot; and neither stdout nor stderr logging is available.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Use &quot;log_dest none&quot; if you wish to disable logging.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#log_dest stderr</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Types of messages to log. Use multiple log_type lines for logging</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># multiple types of messages.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Possible types are: debug, error, warning, notice, information,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># none, subscribe, unsubscribe, websockets, all.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Note that debug type messages are for decoding the incoming/outgoing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># network packets. They are not logged in &quot;topics&quot;.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#log_type error</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#log_type warning</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#log_type notice</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#log_type information</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If set to true, client connection and disconnection messages will be included</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># in the log.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#connection_messages true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If using syslog logging (not on Windows), messages will be logged to the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># &quot;daemon&quot; facility by default. Use the log_facility option to choose which of</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># local0 to local7 to log to instead. The option value should be an integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># value, e.g. &quot;log_facility 5&quot; to use local5.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#log_facility</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If set to true, add a timestamp value to each log message.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#log_timestamp true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set the format of the log timestamp. If left unset, this is the number of</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># seconds since the Unix epoch.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This is a free text string which will be passed to the strftime function. To</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># get an ISO 8601 datetime, for example:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># log_timestamp_format %Y-%m-%dT%H:%M:%S</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#log_timestamp_format</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Change the websockets logging level. This is a global option, it is not</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># possible to set per listener. This is an integer that is interpreted by</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># libwebsockets as a bit mask for its lws_log_levels enum. See the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># libwebsockets documentation for more details. &quot;log_type websockets&quot; must also</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># be enabled.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#websockets_log_level 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># =================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Security</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># =================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If set, only clients that have a matching prefix on their</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># clientid will be allowed to connect to the broker. By default,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># all clients may connect.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># For example, setting &quot;secure-&quot; here would mean a client &quot;secure-</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># client&quot; could connect but another with clientid &quot;mqtt&quot; couldn&#x27;t.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#clientid_prefixes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Boolean value that determines whether clients that connect</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># without providing a username are allowed to connect. If set to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># false then a password file should be created (see the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># password_file option) to control authenticated client access.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Defaults to false, unless there are no listeners defined in the configuration</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># file, in which case it is set to true, but connections are only allowed from</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the local machine.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#allow_anonymous false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># -----------------------------------------------------------------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Default authentication and topic access control</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># -----------------------------------------------------------------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Control access to the broker using a password file. This file can be</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># generated using the mosquitto_passwd utility. If TLS support is not compiled</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># into mosquitto (it is recommended that TLS support should be included) then</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># plain text passwords are used, in which case the file should be a text file</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># with lines in the format:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># username:password</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The password (and colon) may be omitted if desired, although this</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># offers very little in the way of security.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># See the TLS client require_certificate and use_identity_as_username options</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># for alternative authentication options. If an auth_plugin is used as well as</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># password_file, the auth_plugin check will be made first.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#password_file</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Access may also be controlled using a pre-shared-key file. This requires</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># TLS-PSK support and a listener configured to use it. The file should be text</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># lines in the format:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># identity:key</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The key should be in hexadecimal format without a leading &quot;0x&quot;.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If an auth_plugin is used as well, the auth_plugin check will be made first.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#psk_file</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Control access to topics on the broker using an access control list</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># file. If this parameter is defined then only the topics listed will</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># have access.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If the first character of a line of the ACL file is a # it is treated as a</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># comment.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Topic access is added with lines of the format:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># topic [read|write|readwrite|deny] &lt;topic&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The access type is controlled using &quot;read&quot;, &quot;write&quot;, &quot;readwrite&quot; or &quot;deny&quot;.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This parameter is optional (unless &lt;topic&gt; contains a space character) - if</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># not given then the access is read/write.  &lt;topic&gt; can contain the + or #</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># wildcards as in subscriptions.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The &quot;deny&quot; option can used to explicity deny access to a topic that would</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># otherwise be granted by a broader read/write/readwrite statement. Any &quot;deny&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># topics are handled before topics that grant read/write access.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The first set of topics are applied to anonymous clients, assuming</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># allow_anonymous is true. User specific topic ACLs are added after a</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># user line as follows:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># user &lt;username&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The username referred to here is the same as in password_file. It is</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># not the clientid.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If is also possible to define ACLs based on pattern substitution within the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># topic. The patterns available for substition are:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># %c to match the client id of the client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># %u to match the username of the client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The substitution pattern must be the only text for that level of hierarchy.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The form is the same as for the topic keyword, but using pattern as the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># keyword.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Pattern ACLs apply to all users even if the &quot;user&quot; keyword has previously</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># been given.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If using bridges with usernames and ACLs, connection messages can be allowed</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># with the following pattern:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># pattern write $SYS/broker/connection/%c/state</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># pattern [read|write|readwrite] &lt;topic&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Example:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># pattern write sensor/%u/data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If an auth_plugin is used as well as acl_file, the auth_plugin check will be</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># made first.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#acl_file</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># -----------------------------------------------------------------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># External authentication and topic access plugin options</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># -----------------------------------------------------------------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># External authentication and access control can be supported with the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># auth_plugin option. This is a path to a loadable plugin. See also the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># auth_opt_* options described below.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The auth_plugin option can be specified multiple times to load multiple</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># plugins. The plugins will be processed in the order that they are specified</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># here. If the auth_plugin option is specified alongside either of</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># password_file or acl_file then the plugin checks will be made first.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#auth_plugin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If the auth_plugin option above is used, define options to pass to the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># plugin here as described by the plugin instructions. All options named</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># using the format auth_opt_* will be passed to the plugin, for example:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># auth_opt_db_host</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># auth_opt_db_port</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># auth_opt_db_username</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># auth_opt_db_password</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># =================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Bridges</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># =================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># A bridge is a way of connecting multiple MQTT brokers together.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Create a new bridge using the &quot;connection&quot; option as described below. Set</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># options for the bridges using the remaining parameters. You must specify the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># address and at least one topic to subscribe to.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Each connection must have a unique name.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The address line may have multiple host address and ports specified. See</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># below in the round_robin description for more details on bridge behaviour if</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># multiple addresses are used. Note that if you use an IPv6 address, then you</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># are required to specify a port.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The direction that the topic will be shared can be chosen by</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># specifying out, in or both, where the default value is out.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The QoS level of the bridged communication can be specified with the next</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># topic option. The default QoS level is 0, to change the QoS the topic</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># direction must also be given.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The local and remote prefix options allow a topic to be remapped when it is</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># bridged to/from the remote broker. This provides the ability to place a topic</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># tree in an appropriate location.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># For more details see the mosquitto.conf man page.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Multiple topics can be specified per connection, but be careful</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># not to create any loops.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If you are using bridges with cleansession set to false (the default), then</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># you may get unexpected behaviour from incoming topics if you change what</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># topics you are subscribing to. This is because the remote broker keeps the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># subscription for the old topic. If you have this problem, connect your bridge</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># with cleansession set to true, then reconnect with cleansession set to false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># as normal.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#connection &lt;name&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#address &lt;host&gt;[:&lt;port&gt;] [&lt;host&gt;[:&lt;port&gt;]]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#topic &lt;topic&gt; [[[out | in | both] qos-level] local-prefix remote-prefix]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If you need to have the bridge connect over a particular network interface,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># use bridge_bind_address to tell the bridge which local IP address the socket</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># should bind to, e.g. `bridge_bind_address 192.168.1.10`</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#bridge_bind_address</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If a bridge has topics that have &quot;out&quot; direction, the default behaviour is to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># send an unsubscribe request to the remote broker on that topic. This means</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># that changing a topic direction from &quot;in&quot; to &quot;out&quot; will not keep receiving</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># incoming messages. Sending these unsubscribe requests is not always</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># desirable, setting bridge_attempt_unsubscribe to false will disable sending</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the unsubscribe request.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#bridge_attempt_unsubscribe true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set the version of the MQTT protocol to use with for this bridge. Can be one</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># of mqttv50, mqttv311 or mqttv31. Defaults to mqttv311.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#bridge_protocol_version mqttv311</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set the clean session variable for this bridge.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># When set to true, when the bridge disconnects for any reason, all</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># messages and subscriptions will be cleaned up on the remote</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># broker. Note that with cleansession set to true, there may be a</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># significant amount of retained messages sent when the bridge</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># reconnects after losing its connection.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># When set to false, the subscriptions and messages are kept on the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># remote broker, and delivered when the bridge reconnects.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#cleansession false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set the amount of time a bridge using the lazy start type must be idle before</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># it will be stopped. Defaults to 60 seconds.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#idle_timeout 60</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set the keepalive interval for this bridge connection, in</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># seconds.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#keepalive_interval 60</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set the clientid to use on the local broker. If not defined, this defaults to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># &#x27;local.&lt;clientid&gt;&#x27;. If you are bridging a broker to itself, it is important</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># that local_clientid and clientid do not match.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#local_clientid</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If set to true, publish notification messages to the local and remote brokers</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># giving information about the state of the bridge connection. Retained</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># messages are published to the topic $SYS/broker/connection/&lt;clientid&gt;/state</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># unless the notification_topic option is used.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If the message is 1 then the connection is active, or 0 if the connection has</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># failed.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This uses the last will and testament feature.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#notifications true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Choose the topic on which notification messages for this bridge are</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># published. If not set, messages are published on the topic</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># $SYS/broker/connection/&lt;clientid&gt;/state</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#notification_topic</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set the client id to use on the remote end of this bridge connection. If not</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># defined, this defaults to &#x27;name.hostname&#x27; where name is the connection name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># and hostname is the hostname of this computer.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This replaces the old &quot;clientid&quot; option to avoid confusion. &quot;clientid&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># remains valid for the time being.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#remote_clientid</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set the password to use when connecting to a broker that requires</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># authentication. This option is only used if remote_username is also set.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This replaces the old &quot;password&quot; option to avoid confusion. &quot;password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># remains valid for the time being.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#remote_password</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set the username to use when connecting to a broker that requires</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># authentication.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This replaces the old &quot;username&quot; option to avoid confusion. &quot;username&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># remains valid for the time being.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#remote_username</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set the amount of time a bridge using the automatic start type will wait</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># until attempting to reconnect.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This option can be configured to use a constant delay time in seconds, or to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># use a backoff mechanism based on &quot;Decorrelated Jitter&quot;, which adds a degree</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># of randomness to when the restart occurs.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set a constant timeout of 20 seconds:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># restart_timeout 20</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set backoff with a base (start value) of 10 seconds and a cap (upper limit) of</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 60 seconds:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># restart_timeout 10 30</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Defaults to jitter with a base of 5 and cap of 30</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#restart_timeout 5 30</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If the bridge has more than one address given in the address/addresses</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># configuration, the round_robin option defines the behaviour of the bridge on</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># a failure of the bridge connection. If round_robin is false, the default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># value, then the first address is treated as the main bridge connection. If</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the connection fails, the other secondary addresses will be attempted in</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># turn. Whilst connected to a secondary bridge, the bridge will periodically</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># attempt to reconnect to the main bridge until successful.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If round_robin is true, then all addresses are treated as equals. If a</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># connection fails, the next address will be tried and if successful will</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># remain connected until it fails</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#round_robin false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set the start type of the bridge. This controls how the bridge starts and</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># can be one of three types: automatic, lazy and once. Note that RSMB provides</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># a fourth start type &quot;manual&quot; which isn&#x27;t currently supported by mosquitto.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># &quot;automatic&quot; is the default start type and means that the bridge connection</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># will be started automatically when the broker starts and also restarted</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># after a short delay (30 seconds) if the connection fails.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Bridges using the &quot;lazy&quot; start type will be started automatically when the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># number of queued messages exceeds the number set with the &quot;threshold&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># parameter. It will be stopped automatically after the time set by the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># &quot;idle_timeout&quot; parameter. Use this start type if you wish the connection to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># only be active when it is needed.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># A bridge using the &quot;once&quot; start type will be started automatically when the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># broker starts but will not be restarted if the connection fails.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#start_type automatic</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set the number of messages that need to be queued for a bridge with lazy</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># start type to be restarted. Defaults to 10 messages.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Must be less than max_queued_messages.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#threshold 10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If try_private is set to true, the bridge will attempt to indicate to the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># remote broker that it is a bridge not an ordinary client. If successful, this</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># means that loop detection will be more effective and that retained messages</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># will be propagated correctly. Not all brokers support this feature so it may</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># be necessary to set try_private to false if your bridge does not connect</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># properly.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#try_private true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Some MQTT brokers do not allow retained messages. MQTT v5 gives a mechanism</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># for brokers to tell clients that they do not support retained messages, but</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># this is not possible for MQTT v3.1.1 or v3.1. If you need to bridge to a</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># v3.1.1 or v3.1 broker that does not support retained messages, set the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># bridge_outgoing_retain option to false. This will remove the retain bit on</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># all outgoing messages to that bridge, regardless of any other setting.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#bridge_outgoing_retain true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If you wish to restrict the size of messages sent to a remote bridge, use the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># bridge_max_packet_size option. This sets the maximum number of bytes for</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the total message, including headers and payload.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Note that MQTT v5 brokers may provide their own maximum-packet-size property.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># In this case, the smaller of the two limits will be used.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set to 0 for &quot;unlimited&quot;.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#bridge_max_packet_size 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># -----------------------------------------------------------------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Certificate based SSL/TLS support</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># -----------------------------------------------------------------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Either bridge_cafile or bridge_capath must be defined to enable TLS support</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># for this bridge.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># bridge_cafile defines the path to a file containing the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Certificate Authority certificates that have signed the remote broker</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># certificate.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># bridge_capath defines a directory that will be searched for files containing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the CA certificates. For bridge_capath to work correctly, the certificate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># files must have &quot;.crt&quot; as the file ending and you must run &quot;openssl rehash</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># &lt;path to capath&gt;&quot; each time you add/remove a certificate.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#bridge_cafile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#bridge_capath</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If the remote broker has more than one protocol available on its port, e.g.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># MQTT and WebSockets, then use bridge_alpn to configure which protocol is</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># requested. Note that WebSockets support for bridges is not yet available.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#bridge_alpn</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># When using certificate based encryption, bridge_insecure disables</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># verification of the server hostname in the server certificate. This can be</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># useful when testing initial server configurations, but makes it possible for</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># a malicious third party to impersonate your server through DNS spoofing, for</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># example. Use this option in testing only. If you need to resort to using this</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># option in a production environment, your setup is at fault and there is no</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># point using encryption.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#bridge_insecure false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Path to the PEM encoded client certificate, if required by the remote broker.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#bridge_certfile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Path to the PEM encoded client private key, if required by the remote broker.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#bridge_keyfile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># -----------------------------------------------------------------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># PSK based SSL/TLS support</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># -----------------------------------------------------------------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Pre-shared-key encryption provides an alternative to certificate based</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># encryption. A bridge can be configured to use PSK with the bridge_identity</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># and bridge_psk options. These are the client PSK identity, and pre-shared-key</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># in hexadecimal format with no &quot;0x&quot;. Only one of certificate and PSK based</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># encryption can be used on one</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># bridge at once.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#bridge_identity</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#bridge_psk</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># =================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># External config files</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># =================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># External configuration files may be included by using the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># include_dir option. This defines a directory that will be searched</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># for config files. All files that end in &#x27;.conf&#x27; will be loaded as</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># a configuration file. It is best to have this as the last option</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># in the main file. This option will only be processed from the main</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># configuration file. The directory specified must not contain the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># main configuration file.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Files within include_dir will be loaded sorted in case-sensitive</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># alphabetical order, with capital letters ordered first. If this option is</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># given multiple times, all of the files from the first instance will be</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># processed before the next instance. See the man page for examples.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include_dir</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/mqtt">MQTT</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Development/Javascript/2021-06-02--mqtt-cheat-sheet/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Development/Javascript/2021-06-04--mqtt-dashboard-react/2021-06-04"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">React Dashboard for MQTT</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Development/Javascript/2021-06-01--mqtt-with-reactjs/2021-06-01"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">MQTT Webfrontend with React.js</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installation-linux" class="table-of-contents__link toc-highlight">Installation LINUX</a><ul><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li></ul></li><li><a href="#publish--subscribe" class="table-of-contents__link toc-highlight">Publish &amp; Subscribe</a><ul><li><a href="#pub-flags" class="table-of-contents__link toc-highlight">Pub Flags</a></li><li><a href="#sub-flags" class="table-of-contents__link toc-highlight">Sub Flags</a></li><li><a href="#debugging" class="table-of-contents__link toc-highlight">Debugging</a></li><li><a href="#retaining" class="table-of-contents__link toc-highlight">Retaining</a></li><li><a href="#quality-of-service" class="table-of-contents__link toc-highlight">Quality-of-Service</a></li><li><a href="#client-name" class="table-of-contents__link toc-highlight">Client Name</a></li><li><a href="#wildcards" class="table-of-contents__link toc-highlight">Wildcards</a></li></ul></li><li><a href="#default-mosquittoconf" class="table-of-contents__link toc-highlight">Default mosquitto.conf</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Research</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Notebook</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tags">Tags</a></li><li class="footer__item"><a class="footer__link-item" href="/Curriculum-Vitae">CV</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/mike-polinowski-6396ba121/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/MikePolinowski" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.flickr.com/people/149680084@N06/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flickr<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/mpolinowski" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Mike Polinowski, INSTAR Deutschland GmbH, Shenzhen - China.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.23698315.js"></script>
<script src="/assets/js/main.2d20e69f.js"></script>
</body>
</html>
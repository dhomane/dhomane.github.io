<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-IoT-and-Machine-Learning/Home_Automation/2018-11-13--nodered-ifttt/index">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Node-RED with IFTTT | Mike Polinowski</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mpolinowski.github.io/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-13--nodered-ifttt/2018-11-13"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Node-RED with IFTTT | Mike Polinowski"><meta data-rh="true" name="description" content="Shenzhen, China"><meta data-rh="true" property="og:description" content="Shenzhen, China"><link data-rh="true" rel="icon" href="/img/icons/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://mpolinowski.github.io/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-13--nodered-ifttt/2018-11-13"><link data-rh="true" rel="alternate" href="https://mpolinowski.github.io/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-13--nodered-ifttt/2018-11-13" hreflang="en"><link data-rh="true" rel="alternate" href="https://mpolinowski.github.io/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-13--nodered-ifttt/2018-11-13" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Mike Polinowski RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Mike Polinowski Atom Feed">




<link rel="icon" href="/img/angular_momentum.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(37,194,160)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/img/angular_momentum.png">
<link rel="mask-icon" href="/img/angular_momentum.png" color="rgb(33,33,33)">
<meta name="msapplication-TileImage" content="/img/angular_momentum.png">
<meta name="msapplication-TileColor" content="#000">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-P74BDWF0C6"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-P74BDWF0C6",{})</script><link rel="stylesheet" href="/assets/css/styles.714c4925.css">
<link rel="preload" href="/assets/js/runtime~main.23698315.js" as="script">
<link rel="preload" href="/assets/js/main.2d20e69f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/angular_momentum.png" alt="Mike Polinowski :: Dev Notebook" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/angular_momentum.png" alt="Mike Polinowski :: Dev Notebook" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Mike Polinowski</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/tags">Tags</a><a class="navbar__item navbar__link" href="/Search">Search</a><a href="https://mpolinowski.github.io/Personal" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">About<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mpolinowski" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/development">Development</a><button aria-label="Toggle the collapsible sidebar category &#x27;Development&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/devops">DevOps</a><button aria-label="Toggle the collapsible sidebar category &#x27;DevOps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/internet-of-things--machine-learning">Internet-of-Things &amp; Machine Learning</a><button aria-label="Toggle the collapsible sidebar category &#x27;Internet-of-Things &amp; Machine Learning&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/machine-learning">Machine Learning</a><button aria-label="Toggle the collapsible sidebar category &#x27;Machine Learning&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/aiops">AIOps</a><button aria-label="Toggle the collapsible sidebar category &#x27;AIOps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/home-automation">Home Automation</a><button aria-label="Toggle the collapsible sidebar category &#x27;Home Automation&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2022-12-22--grafana-for-iot/2022-12-22">Grafana IoT Dashboard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2022-12-15--rtsp-to-hls-ffmpeg/2022-12-15">Convert RTSP to HLS using FFmpeg</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2022-10-18-camera-ui-docker/2022-10-18">Run Camera.UI with Docker-Compose</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2022-07-17-node-red-for-mqtt-autodiscovery/2022-07-17">MQTT Auto-Discovery - Use Node-RED to register Smarthome Devices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2022-07-16-openhab-mqtt-homie/2022-07-16">OpenHab - MQTT Homie Convention</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2022-07-15-node-red-mqtt-homie/2022-07-15">Node-RED - MQTT Homie Convention</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2022-07-10-home-assistant-mqtt-autodiscovery-part-i/2022-07-10">Home Assistant - MQTT Auto-Discovery :: Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2022-07-11-home-assistant-mqtt-autodiscovery-part-ii/2022-07-11">Home Assistant - MQTT Auto-Discovery :: Automation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2022-07-12-home-assistant-mqtt-python/2022-07-12">Home Assistant - Python Scripts as Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2020-12-03--openhab3-camera-binding/2020-12-03">OpenHAB 3 INSTAR Camera Binding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2020-12-02--openhab3-mqtt-binding/2020-12-02">OpenHAB 3 MQTT Binding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2020-12-01--openhab3-in-docker/2020-12-01">Trying out OpenHAB 3 in Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2020-09-16--testing-new-rest-api-with-nodered/2020-09-16">Testing a new REST API in Node-RED</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2020-09-15--mock-rest-api-with-nodered/2020-09-16">A Mock REST API in Node-RED and Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2019-02-11--loxone-miniserver/2019-02-11">Loxone Miniserver</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2019-12-01--podman-hombridge-to-mqtt/2019-12-01">Podman Homebridge to MQTT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2019-02-09--zoneminder-in-docker/2019-02-09">Zoneminder Dockerized</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2019-09-28--node-red-homekit-containerized/2019-09-28">Adding Homekit to your Node-RED Container in Podman</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2019-02-08--shinobi-on-debian/2019-02-08">Shinobi Video Surveillance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2019-09-27--home-assistant-podman-centos8/2019-09-27">Home Assistant, OpenHAB, Node-RED, ioBroker, MotionEye Containerized</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2019-02-07--motioneye-on-debian/2019-02-07">MotionEye Video Surveillance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2019-09-24--motioneye-podman-centos8/2019-09-24">Installing MotionEye on CentOS8 with Podman</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2019-01-05--zigbee2mqtt-xiaomi-fhem/2019-01-05">Zigbee Sensors in FHEM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2019-09-24--iobroker-podman-centos8/2019-09-24">Installing ioBroker on CentOS8 with Podman</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-12-01--openhab2-on-debian/2018-12-01">OpenHAB2 and MQTT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2019-09-23--mqtt-camera-ai-video-security/2019-09-23">MQTT Camera AI Enhanced Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-30--home-assistant-on-debian/2018-11-30">Home Assistant and MQTT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-29--node-red-and-mqtt/2018-11-29">Node-RED and MQTT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2019-03-26--writing-a-homey-app/2019-03-26">Developing an App for the Homey Smarthome Gateway</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-28--node-red-on-android/2018-11-28">Node-RED on Android</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2019-02-16--ifttt-ip-camera-alarmserver/2019-02-15">IFTTT Alarmserver for IP Cameras</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-27--node-red-sql-logging/2018-11-27">Node-RED SQL Logging Datastreams</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2019-02-15--ifttt-ip-camera/2019-02-15">IFTTT IP Camera</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-26--node-red-and-live-video/2018-11-26">Node-RED Dashboard and Videostreams</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-25--webhooks-with-url-queries/2018-11-25">Webhooks with URL Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-24--node-red-webhooks/2018-11-24">Node-RED Webhooks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-23--node-red-flows/2018-11-23">Node-RED Flows and how to Import them</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-21--nodered-dashboard-getting-started/2018-11-21">Creating Node-RED Admin Panel using node-red-dashboard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-20--nodered-http-connect/2018-11-20">Node-RED Interaction over HTTP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-17--nodered-mqtt-connect/2018-11-17">A Collection of Node-RED MQTT Recipes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-13--nodered-ifttt/2018-11-13">Node-RED with IFTTT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-12--nodered-sqlite/2018-11-12">Using SQLite with Node-RED on Windows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-05--nodered-cryptocurrency-dashboard/2018-11-05">Creating a Dashboard displaying Cryptocurrency Data using Node-RED</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-01--openhab2-mqtt-nodered/2018-11-01">Home Automation and IP Cameras</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-10-28--nodered-getting-started/2018-10-28">Getting Started with Node-RED (Windows 10 Edition)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/mqtt">MQTT</a><button aria-label="Toggle the collapsible sidebar category &#x27;MQTT&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/internet-of-things--machine-learning"><span itemprop="name">Internet-of-Things &amp; Machine Learning</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/home-automation"><span itemprop="name">Home Automation</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Node-RED with IFTTT</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Node-RED with IFTTT</h1></header><p><img loading="lazy" alt="Shenzhen, China" src="/assets/images/photo-15491736416_6abd8de751_o-b6acc423fc2fd175cd430638e4ea1ef2.png" width="1500" height="641" class="img_ev3q"></p><ul><li><a href="#basic-setup">Basic Setup</a><ul><li><a href="#node-red-introduction">Node-RED Introduction</a></li></ul></li><li><a href="#ifttt-setting-up-a-webhook">IFTTT Setting up a Webhook</a><ul><li><a href="#node-red-contacting-the-external-webhook">Node-RED Contacting the external Webhook</a></li><li><a href="#ifttt-contacting-a-node-red-endpoint">IFTTT Contacting a Node-RED Endpoint</a></li></ul></li><li><a href="#real-world-example">Real-world example</a><ul><li><a href="#deactivate-the-alarm-when-i-am-home">Deactivate the Alarm when I am Home</a></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="basic-setup">Basic Setup<a class="hash-link" href="#basic-setup" title="Direct link to heading">​</a></h2><p><em>If This Then That</em>, also known as <a href="https://ifttt.com/" target="_blank" rel="noopener noreferrer">IFTTT</a> is a free web-based service to create chains of simple conditional statements, called applets. Build your own applets to connect web services with your INSTAR IP Camera.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-red-introduction">Node-RED Introduction<a class="hash-link" href="#node-red-introduction" title="Direct link to heading">​</a></h3><p>Use your Node-RED Installation under Windows, Linux (e.g. on a Raspberry Pi) to serve as an interface between your camera and the <a href="https://ifttt.com/discover" target="_blank" rel="noopener noreferrer">IFTTT services</a>. Node-RED will serve both to send messages to the IFTTT Webhook API when an event occurs on your local network, as well as provides an HTTP Endpoint for your IFTTT Applets to trigger events on your local network.</p><p>An example would be a camera triggers an alarm, contacts Node-RED that forwards a message to IFTTT, that in turns sends a message to your smartphone. Or the other way around - your phones GPS detects that you are arriving home, the IFTTT smartphone app contacts the IFTTT server that your local Node-RED installation should be informed to deactivate the motion detection on your INSTAR IP cameras.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ifttt-setting-up-a-webhook">IFTTT Setting up a Webhook<a class="hash-link" href="#ifttt-setting-up-a-webhook" title="Direct link to heading">​</a></h2><ol><li>First you need to <a href="https://ifttt.com/join" target="_blank" rel="noopener noreferrer">create an account</a> on IFTTT and <a href="https://ifttt.com/login?wp_=1" target="_blank" rel="noopener noreferrer">login to your account</a>. Then go to the <strong>My Applets</strong> tab and click on <strong>New Applet</strong>:</li></ol><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_01-d41e5d547bc2df834915e2894d46f335.png" width="730" height="370" class="img_ev3q"></p><hr><ol start="2"><li>Click on <strong>this</strong> to create the conditional part of the script - we want to select what needs to happen for this script to be executed:</li></ol><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_02-beefdd808c49ce34ed825e72bd71ac73.png" width="730" height="302" class="img_ev3q"></p><hr><ol start="3"><li>As mentioned above, we want to use the <a href="https://ifttt.com/services/maker_webhooks" target="_blank" rel="noopener noreferrer">webhook service</a> - which is basically just a web address that your Node-RED installation needs to contact to trigger the IFTTT applet. Search for <em>web</em> and select the <strong>Webhooks Service</strong>:</li></ol><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_03-60b5b50651f1117b6a85f2cf85cd17d5.png" width="730" height="430" class="img_ev3q"></p><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_04-4c91ba5e722946ca9c52e6f9e704f2fd.png" width="730" height="480" class="img_ev3q"></p><hr><ol start="4"><li>Then name the event - this will be part of the URL that we will later have to contact with Node-RED to trigger the event:</li></ol><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_05-ea23ce0fe5abdc3f728249db3e47cfee.png" width="730" height="619" class="img_ev3q"></p><hr><ol start="5"><li>With the trigger set up we now need to assign an IFTTT service we want to trigger. To do this click on <strong>that</strong>:</li></ol><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_06-6f8638345d099115b615206157972718.png" width="730" height="258" class="img_ev3q"></p><hr><ol start="6"><li>Let&#x27;s use the <strong>Email service</strong> - when the URL (webhook) for this applet is contacted we want to receive an Email to the address that we used to register with IFTTT:</li></ol><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_07-acc7fa24dd04f67fc9a3055add8ba770.png" width="730" height="414" class="img_ev3q"></p><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_08-0d5dad87a60a10aad5fcd40400754a7e.png" width="730" height="435" class="img_ev3q"></p><hr><ol start="7"><li>Now we can configure the subject and body text the email should have. Notice the words that are highlighted in white - these are variables that will be filled with data before the mail is sent. <strong>EventName</strong> will be the name that you choose in step 4 above, <strong>OccuredAt</strong> will be filled with a time stamp. The <strong>Value 1-3</strong> below are variables that we can define in Node-RED and send them whenever the event is triggered in our flow - the naming, as well as the amount of variables that you want to add is up to you:</li></ol><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_09-c990d5589454af8e70b6dc9aea868cd3.png" width="730" height="831" class="img_ev3q"></p><hr><ol start="8"><li>Confirm your setup and save your applet:</li></ol><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_10-7da02e82dfbfb05c88b6f504327f0ab4.png" width="730" height="838" class="img_ev3q"></p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-red-contacting-the-external-webhook">Node-RED Contacting the external Webhook<a class="hash-link" href="#node-red-contacting-the-external-webhook" title="Direct link to heading">​</a></h3><p>Now we need to set up Node-RED to contact the webhook that we just configured whenever a local event is fired (we will be using a manual inject node to trigger it for now). The flow that we are going to build will consist of the following nodes:</p><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_11-1732a6f1808fe1d3f9cbc16d49fc4ea5.png" width="730" height="240" class="img_ev3q"></p><hr><ol><li>First, copy and import the following code into the Node-RED Admin Panel:</li></ol><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">&#x27;id&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;87f67c26.0ff7b&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;type&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;inject&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;z&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;b8ce5e67.23af6&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;name&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;topic&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;payload&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;payloadType&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;str&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;repeat&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;crontab&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;once&#x27;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;onceDelay&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;x&#x27;</span><span class="token operator">:</span><span class="token number">90</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;y&#x27;</span><span class="token operator">:</span><span class="token number">40</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;wires&#x27;</span><span class="token operator">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">&#x27;3b378299.bdbede&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">&#x27;id&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;e8acbbcd.763f78&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;type&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;http request&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;z&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;b8ce5e67.23af6&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;name&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;Web Req&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;method&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;POST&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;ret&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;txt&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;url&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;https</span><span class="token operator">:</span><span class="token comment" style="color:rgb(98, 114, 164)">//maker.ifttt.com/trigger/{{event}}/with/key/API_KEY&#x27;,&#x27;tls&#x27;:&#x27;&#x27;,&#x27;x&#x27;:374,&#x27;y&#x27;:40,&#x27;wires&#x27;:[[&#x27;9fe779e1.db2bb8&#x27;]]},{&#x27;id&#x27;:&#x27;9fe779e1.db2bb8&#x27;,&#x27;type&#x27;:&#x27;debug&#x27;,&#x27;z&#x27;:&#x27;b8ce5e67.23af6&#x27;,&#x27;name&#x27;:&#x27;&#x27;,&#x27;active&#x27;:true,&#x27;tosidebar&#x27;:true,&#x27;console&#x27;:false,&#x27;complete&#x27;:&#x27;false&#x27;,&#x27;x&#x27;:521,&#x27;y&#x27;:40,&#x27;wires&#x27;:[]},{&#x27;id&#x27;:&#x27;3b378299.bdbede&#x27;,&#x27;type&#x27;:&#x27;function&#x27;,&#x27;z&#x27;:&#x27;b8ce5e67.23af6&#x27;,&#x27;name&#x27;:&#x27;Req Params&#x27;,&#x27;func&#x27;:&#x27;msg.event = \&#x27;test_request\&#x27;;\nmsg.payload = {\&#x27;value1\&#x27;: \&#x27;testvalue1\&#x27;, \&#x27;value2\&#x27;: \&#x27;testvalue2\&#x27;, \&#x27;value3\&#x27;: \&#x27;testvalue3\&#x27;};\nreturn msg;&#x27;,&#x27;outputs&#x27;:1,&#x27;noerr&#x27;:0,&#x27;x&#x27;:226,&#x27;y&#x27;:40,&#x27;wires&#x27;:[[&#x27;e8acbbcd.763f78&#x27;]]}]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>The Inject Node is set up to insert an empty string when clicked manually. It follows a <strong>Function Node</strong> that has to set the <strong>Event Name</strong> - needed to set the right URL for our IFTTT Webhook and a message payload that carries our three variables <strong>Value 1-3</strong> that we want to display in the IFTTT Email notification:</li></ol><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">event</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;test_request&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">payload</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-property property">&#x27;value1&#x27;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;testvalue1&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string-property property">&#x27;value2&#x27;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;testvalue2&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string-property property">&#x27;value3&#x27;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;testvalue3&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> msg</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_12-2268d1d1331212ad71a38c4acb158e22.png" width="730" height="311" class="img_ev3q"></p><hr><ol start="3"><li>Next we have a <strong>HTTP Request Node</strong> that sets the URL for our IFTTT Webhook as a <strong>POST</strong> message:</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">https://maker.ifttt.com/trigger/{{event}}/with/key/API_KEY</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Note</strong> that this is using the <strong>Event Name</strong> that we set as <code>msg.event</code> in the previous <strong>Function Node</strong>. But to identify our IFTTT account we first need to find out our personal <strong>API_KEY</strong> and add it at the end of the URL:</p><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_13-78db208c523f90364f64da963bccb04e.png" width="730" height="381" class="img_ev3q"></p><hr><ol start="4"><li>To get access to our personal API key we first have to sign in to our IFTTT account and open the following page <code>https://ifttt.com/services/maker_webhooks/settings</code>. Copy the alpha-numeric key in the Account Info - e.g. if you find the <code>URL: https://maker.ifttt.com/use/c3oL9WnAbz8Z08KumJWS</code>, then <code>c3oL9WnAbz8Z08KumJWS</code> is your API key:</li></ol><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_14-8b0e437d17ccf998062041092ad3a94e.png" width="730" height="561" class="img_ev3q"></p><hr><ol start="5"><li>Copy your API key and replace the <code>API_KEY</code> part in the URL for the <strong>HTTP Request Node</strong> in Node-RED. Then confirm the edit by hitting <strong>Done</strong> and the <strong>Deploy</strong> your flow:</li></ol><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_15-1c7640c05ae58ee8c34d97785ff44cb2.png" width="730" height="450" class="img_ev3q"></p><hr><ol start="6"><li>Hit the <strong>Inject Node</strong> to trigger an event. The <strong>HTTP Request Node</strong> will contact your IFTTT webhook and you will see a <em>success message</em> outputted into the debug panel from the <strong>Debug Node</strong> connected to the request node - <code>Congratulation! You fired the test_request event</code> - telling you that the IFTTT server was contacted and your Applet was executed:</li></ol><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_16-308e146875590d2fede1898ab4e0ceac.png" width="730" height="243" class="img_ev3q"></p><hr><ol start="7"><li>Check your Email (the one you used to register your IFTTT account) - you will have received a message from IFTTT that follows the structure we set up in the Applet configuration:</li></ol><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_17-d2d2b3afe8f3e9cd2c0d95bfdb7a6652.png" width="730" height="284" class="img_ev3q"></p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ifttt-contacting-a-node-red-endpoint">IFTTT Contacting a Node-RED Endpoint<a class="hash-link" href="#ifttt-contacting-a-node-red-endpoint" title="Direct link to heading">​</a></h3><ol><li>We now want to set up a Node-RED sequence that contacts an IFTTT Webhook - just as in the step before - but instead of sending an Email, we want IFTTT to contact our own Webhook in Node-RED and trigger an event there that we can consume in a Flow. <strong>Note</strong> that this is just a proof of concept - later we want to use one of the many IFTTT services to replace the manual trigger, enabling us to connect the Node-RED webhook to services like <em>Amazon Alexa</em>, <em>Google Home</em>, <em>Nest Home Automation</em>, etc.</li></ol><p>To set up the manual trigger, we could simply recycle the node sequence we build previously. But to explore a different approach, we are going to install a third-party node called <a href="https://www.npmjs.com/package/node-red-contrib-ifttt" target="_blank" rel="noopener noreferrer">node-red-contrib-ifttt</a> - that basically just combines the <strong>Function Node</strong> and <strong>HTTP Request Node</strong> that we used earlier (<strong>Note</strong> with this setup, we cannot send custom variables with the message payload - we still would have to add another function node to realize the same sequence we created earlier.):</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">&#x27;id&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;2efd9020.529d9&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;type&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;inject&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;z&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;b8ce5e67.23af6&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;name&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;topic&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;payload&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;payloadType&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;str&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;repeat&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;crontab&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;once&#x27;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;onceDelay&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;x&#x27;</span><span class="token operator">:</span><span class="token number">92</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;y&#x27;</span><span class="token operator">:</span><span class="token number">139</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;wires&#x27;</span><span class="token operator">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">&#x27;7abb924d.fcfabc&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">&#x27;id&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;7abb924d.fcfabc&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;type&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;ifttt out&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;z&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;b8ce5e67.23af6&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;eventName&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;ifttt_webhook&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;key&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;d6390bcb.c9fc08&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;x&#x27;</span><span class="token operator">:</span><span class="token number">236</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;y&#x27;</span><span class="token operator">:</span><span class="token number">139</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;wires&#x27;</span><span class="token operator">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">&#x27;id&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;d6390bcb.c9fc08&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;type&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;ifttt-key&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;z&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_18-ee843e3e17946265dc31eab27b9cfdd4.png" width="730" height="169" class="img_ev3q"></p><hr><ol start="2"><li>Double-Click the <strong>IFTT Node</strong> to add an <strong>Event Name</strong> - we choose <code>ifttt_webhook</code> -  and click on the pencil icon to add your <strong>API key</strong>, that we determined earlier:</li></ol><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_19-a69a3c74e6cf7fd770a144521d23f545.png" width="730" height="296" class="img_ev3q"></p><hr><ol start="3"><li>Just as in the <a href="#ifttt-setting-up-a-webhook">previous example</a>, we now create an Applet on IFTTT that will use a <strong>Webhook</strong> to listen to the <code>ifttt_webhook</code> event. Go to the <strong>My Applets</strong> tab on IFTTT and click on <strong>New Applet</strong>. Click on <strong>this</strong> and choose a <strong>Webhook</strong> as trigger:</li></ol><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_20-6daee532e13014f5b85f6cde6ba24f4b.png" width="730" height="775" class="img_ev3q"></p><hr><ol start="4"><li>You have to give this <strong>Webhook</strong> the <strong>Event Name</strong> that you choose in Node-RED in the previous step and give it the URL to your Node-RED server. This can be done via the WAN IP address (<strong>Note</strong> that this usually changes every 24hrs) or via your INSTAR cameras DDNS address (as long as it is on the same network as your Node-RED server!). This is followed by the port used by your Node-RED installation - by default this is the <strong>Port 1880</strong>. <strong>Note</strong> that this port needs to be forwarded in your router for IFTTT to be able to access it! We complete the URL by adding <code>/pushalarm/trigger/recording</code> to identify the Node-RED webhook that we will have to create later.</li></ol><ol start="5"><li>We can also add a message payload to the webhook request by IFTTT - this way we will be able to use the same webhook in Node-RED for more than one IFTTT Applet - e.g. when I leave home <strong>Applet 1</strong> sends the payload <code>{&#x27;val&#x27;: &#x27;on&#x27;}</code> to activate the Motion Detection on my IP cameras. But if I arrive home and you receive <code>{&#x27;val&#x27;: &#x27;off&#x27;}</code> from <strong>Applet 2</strong>, switch it off again. For this we have to switch to the <strong>POST Method</strong>, choose the <strong>JSON Content Type</strong> and the value that we need - like <code>{&#x27;val&#x27;: &#x27;on&#x27;}</code> :</li></ol><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_21-11bceec2d861dfe671a9ad5074590808.png" width="730" height="664" class="img_ev3q"></p><hr><ol start="6"><li>We now created an IFTTT Applet that, when triggered, will try to contact a webhook (<strong>HTTP IN Node</strong>) in our Node-RED installation - make sure that the URL is reachable from the internet before you continue in step 4). Let&#x27;s create that HTTP Endpoint in our Node-RED Flow:</li></ol><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">&#x27;id&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;988f4c1b.cfac3&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;type&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;http in&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;z&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;b8ce5e67.23af6&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;name&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;IFTTT Trigger&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;url&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;/pushalarm/trigger/recording&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;method&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;post&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;upload&#x27;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;swaggerDoc&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;x&#x27;</span><span class="token operator">:</span><span class="token number">86</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;y&#x27;</span><span class="token operator">:</span><span class="token number">238</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;wires&#x27;</span><span class="token operator">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">&#x27;650a9d50.</span><span class="token number">1e9294</span><span class="token plain">&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;df518ee6.</span><span class="token number">55111</span><span class="token plain">&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">&#x27;id&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;df518ee6.</span><span class="token number">55111</span><span class="token plain">&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;type&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;http response&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;z&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;b8ce5e67.23af6&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;name&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;x&#x27;</span><span class="token operator">:</span><span class="token number">242</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;y&#x27;</span><span class="token operator">:</span><span class="token number">239</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;wires&#x27;</span><span class="token operator">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">&#x27;id&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;650a9d50.</span><span class="token number">1e9294</span><span class="token plain">&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;type&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;json&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;z&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;b8ce5e67.23af6&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;name&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;property&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;payload&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;action&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;pretty&#x27;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;x&#x27;</span><span class="token operator">:</span><span class="token number">242</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;y&#x27;</span><span class="token operator">:</span><span class="token number">203</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;wires&#x27;</span><span class="token operator">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">&#x27;c2531a9f.8b5378&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">&#x27;id&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;c2531a9f.8b5378&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;type&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;debug&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;z&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;b8ce5e67.23af6&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;name&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;active&#x27;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;tosidebar&#x27;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;console&#x27;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;tostatus&#x27;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;complete&#x27;</span><span class="token operator">:</span><span class="token plain">&#x27;</span><span class="token boolean">false</span><span class="token plain">&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;x&#x27;</span><span class="token operator">:</span><span class="token number">381</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;y&#x27;</span><span class="token operator">:</span><span class="token number">203</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">&#x27;wires&#x27;</span><span class="token operator">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_22-4272bcf25cda75a83637623715205d79.png" width="730" height="232" class="img_ev3q"></p><hr><p>The sequence starts with an <strong>HTTP IN Node</strong> that expects a <strong>POST Request</strong> on <code>/pushalarm/trigger/recording</code> - that is the URL we added to our IFTTT Applet as the webhook that needs to be contacted. We need to add an empty <strong>HTTP Response Node</strong> at the end for the webhook to be operational:</p><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_23-2fcc662ee5e816ff92302ccd6313d5c1.png" width="730" height="335" class="img_ev3q"></p><hr><p>Beside the  <strong>HTTP Response Node</strong>, we also connect a <strong>Debug Node</strong> that receives the payload that we set in the IFTTT Applet - the JSON payload <code>{&#x27;val&#x27;: &#x27;on&#x27;}</code> will be received as a JavaScript Object that can be used by following nodes.</p><p>We can now test the chain that we build. Clicking on the <strong>Inject Node</strong> will contact the <strong>IFTTT Webhook</strong> that <strong>IFTTT Applet</strong> is listening at. The Applet, when triggered, will then contact the <strong>HTTP IN Node</strong> in our Node-RED Flow and transmit the JSON payload <code>{&#x27;val&#x27;: &#x27;on&#x27;}</code>, as seen in the debug panel.</p><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_24-af3a44fba6c7bb9b429846c21ffb3434.gif" width="730" height="318" class="img_ev3q"></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="real-world-example">Real-world example<a class="hash-link" href="#real-world-example" title="Direct link to heading">​</a></h2><p>We are now able to trigger IFTTT Applets from a Node-RED Flow, as well as trigger the Flow through an IFTTT Applet - which opens up the whole variety of <a href="https://ifttt.com/services" target="_blank" rel="noopener noreferrer">services IFTTT</a> offers to automate our INSTAR IP camera.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deactivate-the-alarm-when-i-am-home">Deactivate the Alarm when I am Home<a class="hash-link" href="#deactivate-the-alarm-when-i-am-home" title="Direct link to heading">​</a></h3><p>IFTTT offers an <a href="https://play.google.com/store/apps/details?id=com.ifttt.ifttt" target="_blank" rel="noopener noreferrer">Android</a> and <a href="https://itunes.apple.com/jp/app/ifttt/id660944635?mt=8" target="_blank" rel="noopener noreferrer">iOS</a> App that can use the sensors on your phone to trigger your IFTTT Applets. For example, create a new Applet, choose <strong>this</strong> to add a trigger and search for <strong>location</strong>:</p><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_25-fdeab40d5596ecf0a7ec3f2e8fd66988.png" width="730" height="480" class="img_ev3q"></p><hr><p>Select the <strong>Location Trigger</strong> and choose if you want this trigger to go off when you enter an area or when you are leaving it - in the end we will have to add two applets for both cases. They can be combined into one Node-RED sequence later on. Choose <em>Enter Condition</em> for now and point it to your home:</p><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_26-4f59994ee179eb91bfd68ed57d6eebc5.png" width="730" height="736" class="img_ev3q"></p><hr><p>Now we have to select a <strong>Webhook</strong> as the <strong>that</strong> condition - just as we have done in the earlier example. We will create a new <strong>HTTP IN Node</strong> listening on <code>/alarm/md/areas</code> in Node-RED for it - the URL for the webhook will be <code>https://&lt;DDNS Address&gt;:1880/alarm/md/areas</code> accordingly. The Applet has to use this URL to <strong>POST</strong> the <code>{&#x27;val&#x27;:&#x27;off&#x27;}</code> message:</p><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_27-01d492c79eda338edf634f3afb6422c0.png" width="731" height="927" class="img_ev3q"></p><hr><p>Repeat those steps for a second Applet that posts <code>{&#x27;val&#x27;:&#x27;on&#x27;}</code>, whenever you leave the area.</p><p>We can now use a variation of the Alarm Flow that we <a href="https://wiki.instar.com/en/Advanced_User/OpenHAB_Home_Automation/IP_Camera_Control/#setting-up-node-red" target="_blank" rel="noopener noreferrer">already used a couple of times</a> to switch the alarm areas of our INSTAR IP camera on and off when the message <code>{&#x27;val&#x27;:&#x27;on&#x27;}</code> or <code>{&#x27;val&#x27;:&#x27;off&#x27;}</code> is posted to our <strong>HTTP IN Node</strong> webhook - you can <a href="https://wiki.instar.com/en/Node-RED_Flows/nodered_flow_alarm_areas_IFTTT.json" target="_blank" rel="noopener noreferrer">download the Flow from here</a> and add your camera login to the <strong>Login Node</strong>. When the IFTTT Applets triggers our Node-RED webhook, the CGI commands for activating or deactivating the alarm areas will be send to your camera. <strong>Note</strong> that the commands used here only work with HD and Full HD cameras and you can replace them with every other CGI command you need:</p><hr><p><img loading="lazy" alt="IFTTT" src="/assets/images/IFTTT_28-0d77d528196d8c9b732453c84bc41db0.gif" width="730" height="289" class="img_ev3q"></p><hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/node-red">Node-RED</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/io-t">IoT</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-13--nodered-ifttt/index.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-17--nodered-mqtt-connect/2018-11-17"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">A Collection of Node-RED MQTT Recipes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/IoT-and-Machine-Learning/Home_Automation/2018-11-12--nodered-sqlite/2018-11-12"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Using SQLite with Node-RED on Windows</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#basic-setup" class="table-of-contents__link toc-highlight">Basic Setup</a><ul><li><a href="#node-red-introduction" class="table-of-contents__link toc-highlight">Node-RED Introduction</a></li></ul></li><li><a href="#ifttt-setting-up-a-webhook" class="table-of-contents__link toc-highlight">IFTTT Setting up a Webhook</a><ul><li><a href="#node-red-contacting-the-external-webhook" class="table-of-contents__link toc-highlight">Node-RED Contacting the external Webhook</a></li><li><a href="#ifttt-contacting-a-node-red-endpoint" class="table-of-contents__link toc-highlight">IFTTT Contacting a Node-RED Endpoint</a></li></ul></li><li><a href="#real-world-example" class="table-of-contents__link toc-highlight">Real-world example</a><ul><li><a href="#deactivate-the-alarm-when-i-am-home" class="table-of-contents__link toc-highlight">Deactivate the Alarm when I am Home</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Research</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Notebook</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tags">Tags</a></li><li class="footer__item"><a class="footer__link-item" href="/Curriculum-Vitae">CV</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/mike-polinowski-6396ba121/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/MikePolinowski" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.flickr.com/people/149680084@N06/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flickr<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/mpolinowski" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Mike Polinowski, INSTAR Deutschland GmbH, Shenzhen - China.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.23698315.js"></script>
<script src="/assets/js/main.2d20e69f.js"></script>
</body>
</html>
"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[2504],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>d});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=n.createContext({}),p=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(i.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),h=p(a),d=r,m=h["".concat(i,".").concat(d)]||h[d]||c[d]||s;return a?n.createElement(m,o(o({ref:t},u),{},{components:a})):n.createElement(m,o({ref:t},u))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,o=new Array(s);o[0]=h;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var p=2;p<s;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},92842:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>c,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var n=a(87462),r=(a(67294),a(3905));const s={sidebar_position:7010,slug:"2021-01-22",title:"File Transfer Tool in Node.js",authors:"mpolinowski",tags:["LINUX","Javascript","Node"]},o=void 0,l={unversionedId:"DevOps/Provisioning/2021-01-22-file-transfer-tools-in-nodejs/index",id:"DevOps/Provisioning/2021-01-22-file-transfer-tools-in-nodejs/index",title:"File Transfer Tool in Node.js",description:"Shenzhen, China",source:"@site/docs/DevOps/Provisioning/2021-01-22-file-transfer-tools-in-nodejs/index.md",sourceDirName:"DevOps/Provisioning/2021-01-22-file-transfer-tools-in-nodejs",slug:"/DevOps/Provisioning/2021-01-22-file-transfer-tools-in-nodejs/2021-01-22",permalink:"/docs/DevOps/Provisioning/2021-01-22-file-transfer-tools-in-nodejs/2021-01-22",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/DevOps/Provisioning/2021-01-22-file-transfer-tools-in-nodejs/index.md",tags:[{label:"LINUX",permalink:"/docs/tags/linux"},{label:"Javascript",permalink:"/docs/tags/javascript"},{label:"Node",permalink:"/docs/tags/node"}],version:"current",sidebarPosition:7010,frontMatter:{sidebar_position:7010,slug:"2021-01-22",title:"File Transfer Tool in Node.js",authors:"mpolinowski",tags:["LINUX","Javascript","Node"]},sidebar:"tutorialSidebar",previous:{title:"Node.js FTP Server",permalink:"/docs/DevOps/Provisioning/2021-01-23-nodejs-file-server/2021-01-23"},next:{title:"Installing Wazuh with Docker Compose",permalink:"/docs/DevOps/Provisioning/2020-10-02--installing-wazuh-in-docker/2020-10-02"}},i={},p=[{value:"httpster",id:"httpster",level:2},{value:"Installation",id:"installation",level:3},{value:"HTML5 Pushstates",id:"html5-pushstates",level:3},{value:"Basic Authentication",id:"basic-authentication",level:3},{value:"Symbolic Links",id:"symbolic-links",level:3},{value:"ftp-srv",id:"ftp-srv",level:2},{value:"Installation",id:"installation-1",level:3},{value:"Start your FTP Server",id:"start-your-ftp-server",level:3},{value:"Usage",id:"usage",level:3}],u={toc:p};function c(e){let{components:t,...s}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Shenzhen, China",src:a(47005).Z,width:"1500",height:"597"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#httpster"},"httpster"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#installation"},"Installation")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#html5-pushstates"},"HTML5 Pushstates")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#basic-authentication"},"Basic Authentication")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#symbolic-links"},"Symbolic Links")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#ftp-srv"},"ftp-srv"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#installation-1"},"Installation")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#start-your-ftp-server"},"Start your FTP Server")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#usage"},"Usage"))))),(0,r.kt)("p",null,"I am often faced with the issue of transferring files from one server to another - getting your PDF file onto an Android phone, share your latest model data with a co-worker or testing an IoT devices FTP upload to your server. The candy store at the ",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/"},"node modules manager")," offers two tools that allow you to do that with a simple one-liner on your console or terminal - on LINUX, Windows or macOS."),(0,r.kt)("h2",{id:"httpster"},"httpster"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/httpster"},"httpster")," is a simple http server that gives you access to a directory on your server through the HTTP protocol."),(0,r.kt)("h3",{id:"installation"},"Installation"),(0,r.kt)("p",null,"Installation is done via npm, which is installed along with NodeJS on most platforms."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm -g install httpster\n")),(0,r.kt)("p",null,"Then from any directory where you want to have an http service running, just run"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"httpster\n")),(0,r.kt)("p",null,"That will start up a web server on port 3333 and let you serve up any static content you wish. If you want to change the port or directory that the server runs from pass in the -p or -d options"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"httpster -p 8080 -d /home/somedir/public_html\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"httpster",src:a(53564).Z,width:"954",height:"734"})),(0,r.kt)("h3",{id:"html5-pushstates"},"HTML5 Pushstates"),(0,r.kt)("p",null,"If you want to run a local site that supports HTML5 Pushstates (aka being able to refresh the page), pass in the option ",(0,r.kt)("inlineCode",{parentName:"p"},"-s")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"--pushstate"),". This will map all 4oh4's to the index.html you specified as root directory."),(0,r.kt)("h3",{id:"basic-authentication"},"Basic Authentication"),(0,r.kt)("p",null,"Since you can use httpster to deploy to PaaS providers like heroku you can now secure those deployments with basic authentication. The ",(0,r.kt)("inlineCode",{parentName:"p"},"-b")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"--basic_auth")," options will read the ",(0,r.kt)("strong",{parentName:"p"},"HTTPSTER_AUTH_USER")," and ",(0,r.kt)("strong",{parentName:"p"},"HTTPSTER_AUTH_PASS")," variables from your environment for authentication."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"httpster -b\n")),(0,r.kt)("p",null,"or"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"httpster --basic_auth\n")),(0,r.kt)("p",null,"If testing this locally you can also use a .env file in the directory you will run httpster from."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"HTTPSTER_AUTH_USER=desired_username\nHTTPSTER_AUTH_PASS=desired_password\n")),(0,r.kt)("p",null,"Then use the ",(0,r.kt)("inlineCode",{parentName:"p"},"-e")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"--env")," option to specify to load the environmental variables:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"httpster --env --basic_auth\n")),(0,r.kt)("h3",{id:"symbolic-links"},"Symbolic Links"),(0,r.kt)("p",null,"For security purposes symbolic links have been disabled in the default usage. If you need to serve content through symbolic links you can add the following flag when launching httpster."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"httpster -l\n")),(0,r.kt)("p",null,"or"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"httpster --symlink\n")),(0,r.kt)("h2",{id:"ftp-srv"},"ftp-srv"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/ftp-srv"},"ftp-srv")," is a modern and extensible FTP server designed to be simple yet configurable."),(0,r.kt)("h3",{id:"installation-1"},"Installation"),(0,r.kt)("p",null,"Install the package through npm:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install -g ftp-srv\n")),(0,r.kt)("h3",{id:"start-your-ftp-server"},"Start your FTP Server"),(0,r.kt)("p",null,"ftp-srv comes with a builtin CLI:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ ftp-srv [url] [options]\n")),(0,r.kt)("p",null,"To spin up your FTP service on a server with the local IP address ",(0,r.kt)("inlineCode",{parentName:"p"},"192.168.2.111")," in the root directory ",(0,r.kt)("inlineCode",{parentName:"p"},"/opt/ftp-srv/uploads")," (make sure it exists and the user that executes the FTP service is allowed to write to it!) run the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ftp-srv ftp://192.168.2.111:9876 --root /opt/ftp-srv/uploads --username ftpuser --password password \n")),(0,r.kt)("h3",{id:"usage"},"Usage"),(0,r.kt)("p",null,"You can now use a tool like Filezilla to test your service:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"ftp-srv Filezilla",src:a(3498).Z,width:"1037",height:"453"})),(0,r.kt)("p",null,"Or with your INSTAR IP camera:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"ftp-srv INSTAR",src:a(55332).Z,width:"1031",height:"550"})))}c.isMDXComponent=!0},3498:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/ftp-srv_filezilla_01-4cf2071ff7904810d5929c7532d6b15e.png"},55332:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/ftp-srv_instar_01-c34ab43dcb01d72ff0cf71250f70f631.png"},53564:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/httpster_01-e0029d4def904589a13e327250c31ab7.png"},47005:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/photo-kt443t6d_64hdh43hfh6dgjdfhg4_d-91a640c918f5f3896f219eb8a3a3ead0.jpg"}}]);
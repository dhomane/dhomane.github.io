"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[64063],{3905:(t,e,a)=>{a.d(e,{Zo:()=>c,kt:()=>d});var n=a(67294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},s=Object.keys(t);for(n=0;n<s.length;n++)a=s[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)a=s[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var l=n.createContext({}),i=function(t){var e=n.useContext(l),a=e;return t&&(a="function"==typeof t?t(e):o(o({},e),t)),a},c=function(t){var e=i(t.components);return n.createElement(l.Provider,{value:e},t.children)},m={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},u=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,s=t.originalType,l=t.parentName,c=p(t,["components","mdxType","originalType","parentName"]),u=i(a),d=r,b=u["".concat(l,".").concat(d)]||u[d]||m[d]||s;return a?n.createElement(b,o(o({ref:e},c),{},{components:a})):n.createElement(b,o({ref:e},c))}));function d(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var s=a.length,o=new Array(s);o[0]=u;var p={};for(var l in e)hasOwnProperty.call(e,l)&&(p[l]=e[l]);p.originalType=t,p.mdxType="string"==typeof t?t:r,o[1]=p;for(var i=2;i<s;i++)o[i]=a[i];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},56176:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>s,metadata:()=>p,toc:()=>i});var n=a(87462),r=(a(67294),a(3905));const s={sidebar_position:8050,slug:"2017-12-17",title:"Gatsby.js with Bootstrap 4",authors:"mpolinowski",tags:["Javascript","React","Gatsby","Bootstrap"]},o=void 0,p={unversionedId:"Development/Javascript/2017-12-17--gatsby-reactstrap/index",id:"Development/Javascript/2017-12-17--gatsby-reactstrap/index",title:"Gatsby.js with Bootstrap 4",description:"Harbin, China",source:"@site/docs/Development/Javascript/2017-12-17--gatsby-reactstrap/index.mdx",sourceDirName:"Development/Javascript/2017-12-17--gatsby-reactstrap",slug:"/Development/Javascript/2017-12-17--gatsby-reactstrap/2017-12-17",permalink:"/docs/Development/Javascript/2017-12-17--gatsby-reactstrap/2017-12-17",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Development/Javascript/2017-12-17--gatsby-reactstrap/index.mdx",tags:[{label:"Javascript",permalink:"/docs/tags/javascript"},{label:"React",permalink:"/docs/tags/react"},{label:"Gatsby",permalink:"/docs/tags/gatsby"},{label:"Bootstrap",permalink:"/docs/tags/bootstrap"}],version:"current",sidebarPosition:8050,frontMatter:{sidebar_position:8050,slug:"2017-12-17",title:"Gatsby.js with Bootstrap 4",authors:"mpolinowski",tags:["Javascript","React","Gatsby","Bootstrap"]},sidebar:"tutorialSidebar",previous:{title:"Gatsby Material UI Starter",permalink:"/docs/Development/Javascript/2018-01-07--gatsby-material-ui-starter/2018-01-07"},next:{title:"Gatsby.js Knowledgebase",permalink:"/docs/Development/Javascript/2017-12-14--gatsby-wiki/2017-12-14"}},l={},i=[{value:"Install Gatsby&#39;s command line tool",id:"install-gatsbys-command-line-tool",level:2},{value:"Using the Gatsby CLI",id:"using-the-gatsby-cli",level:2},{value:"Install reactstrap",id:"install-reactstrap",level:2},{value:"Optional Dependencies",id:"optional-dependencies",level:3},{value:"Import the Components",id:"import-the-components",level:2},{value:"Testing your build",id:"testing-your-build",level:2},{value:"Setting up a Webserver",id:"setting-up-a-webserver",level:2}],c={toc:i};function m(t){let{components:e,...s}=t;return(0,r.kt)("wrapper",(0,n.Z)({},c,s,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Harbin, China",src:a(61852).Z,width:"1500",height:"545"})),(0,r.kt)("h1",{id:"gatsbyjs--bootstrap-4"},"Gatsby.js & Bootstrap 4"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/mpolinowski/gatsby-reactstrap"},"Github")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#gatsbyjs--bootstrap-4"},"Gatsby.js & Bootstrap 4"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#install-gatsbys-command-line-tool"},"Install Gatsby's command line tool")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#using-the-gatsby-cli"},"Using the Gatsby CLI")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#install-reactstrap"},"Install reactstrap"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#optional-dependencies"},"Optional Dependencies")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#import-the-components"},"Import the Components")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#testing-your-build"},"Testing your build")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#setting-up-a-webserver"},"Setting up a Webserver"))))),(0,r.kt)("p",null,"Let's try to use the static site generator for React - ",(0,r.kt)("a",{parentName:"p",href:"https://www.gatsbyjs.org"},"Gatsby")," together with the Bootstrap 4 React components from ",(0,r.kt)("a",{parentName:"p",href:"https://reactstrap.github.io"},"reactstrap"),". To get started, I want to reproduce one of the official examples from ",(0,r.kt)("a",{parentName:"p",href:"http://getbootstrap.com/docs/4.0/examples/album/"},"getbootstrap.com"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Gatsby-reactstrap",src:a(56009).Z,width:"1405",height:"831"})),(0,r.kt)("h2",{id:"install-gatsbys-command-line-tool"},"Install Gatsby's command line tool"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"npm install --global gatsby-cli\n")),(0,r.kt)("h2",{id:"using-the-gatsby-cli"},"Using the Gatsby CLI"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Create a new site. ",(0,r.kt)("strong",{parentName:"li"},"gatsby new gatsby-reactstrap")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"cd gatsby-reactstrap")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"gatsby develop")," \u2014 Gatsby will start a hot-reloading development environment accessible at localhost:8000")),(0,r.kt)("h2",{id:"install-reactstrap"},"Install reactstrap"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"npm install bootstrap@4.0.0-beta.2 --save\n\nnpm install --save reactstrap@next\n")),(0,r.kt)("h3",{id:"optional-dependencies"},"Optional Dependencies"),(0,r.kt)("p",null,"These libraries are not included in the main distribution file reactstrap.min.js and need to be manually included when using components that require transitions or popover effects (e.g. Tooltip, Modal, etc)."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/react-transition-group"},"react-transition-group")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/react-popper"},"react-popper"))),(0,r.kt)("h2",{id:"import-the-components"},"Import the Components"),(0,r.kt)("p",null,"Import Bootstrap CSS in the ./src/layouts/index.jsx file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// import 'bootstrap/dist/css/bootstrap.min.css';\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"UPDATE"),":\nThe import statement above works fine during development. But the Bootstrap CSS will not be imported when you build your static site - ",(0,r.kt)("em",{parentName:"p"},"gatsby build")),(0,r.kt)("p",null,"You can copy the minified CSS to into the ",(0,r.kt)("em",{parentName:"p"},"./src/layouts")," folder and change the import accordingly:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import './bootstrap.min.css';\n")),(0,r.kt)("p",null,"Import required reactstrap components within your custom component files e.g. ",(0,r.kt)("em",{parentName:"p"},"./src/components/ReactNavbar.jsx"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  NavItem,\n  NavLink,\n  Button\n} from 'reactstrap';\n")),(0,r.kt)("p",null,"And add the react class according the ",(0,r.kt)("a",{parentName:"p",href:"https://reactstrap.github.io/components/navbar/"},"reactstrap documentation"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"export default class ReactNavbar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.toggleNavbar = this.toggleNavbar.bind(this);\n    this.state = {\n      collapsed: true\n    };\n  }\n\n  toggleNavbar() {\n    this.setState({\n      collapsed: !this.state.collapsed\n    });\n  }\n  render() {\n    return <div>\n        <Navbar color='dark' light>\n          <NavbarBrand to='/' className='mr-auto'>\n            <img src='/static/instar-logo-s.png' />\n          </NavbarBrand>\n          <NavbarToggler onClick={this.toggleNavbar} className='mr-2' />\n          <Collapse isOpen={!this.state.collapsed} navbar>\n            <Nav navbar>\n              <NavItem>\n                <Link to='/'>\n                  <Button color='primary' block>\n                    Indoor Cameras\n                  </Button>\n                </Link>\n              </NavItem>\n              <NavItem>\n                <Link to='/page-2/'>\n                  <Button color='primary' block>\n                    Outdoor Cameras\n                  </Button>\n                </Link>\n              </NavItem>\n              <NavItem>\n                <NavLink href='https://github.com/mpolinowski/gatsby-reactstrap' target='_blank'>\n                  <Button color='danger' block>\n                    Github Repository\n                  </Button>\n                </NavLink>\n              </NavItem>\n            </Nav>\n          </Collapse>\n        </Navbar>\n      </div>;\n  }\n}\n")),(0,r.kt)("p",null,"This component can then be imported into any page or layout you want:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import ReactNavbar from '../components/ReactNavbar'\n[...]\n<ReactNavbar />\n")),(0,r.kt)("h2",{id:"testing-your-build"},"Testing your build"),(0,r.kt)("p",null,"Stop the development process and type in the following command to build the static version of your React App:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"gatsby build\n")),(0,r.kt)("p",null,"To quickly check your build, you can use httpster:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"npm install httpster -g\n")),(0,r.kt)("p",null,"Then run your build on localhost:3000 - e.g. if you have your repository in ",(0,r.kt)("em",{parentName:"p"},"E:\\gatsby-reactstrap")," - by typing:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"httpster -p 3000 -d /e/gatsby-reactstrap/public\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"For Windows User"),":\nI noticed that httpster does not seem to like my ",(0,r.kt)("a",{parentName:"p",href:"https://hyper.is"},"Hyper Terminal")," - it runs fine in ",(0,r.kt)("a",{parentName:"p",href:"http://gitforwindows.org"},"Git Bash"),"."),(0,r.kt)("h2",{id:"setting-up-a-webserver"},"Setting up a Webserver"),(0,r.kt)("p",null,"I want to use ",(0,r.kt)("a",{parentName:"p",href:"https://expressjs.com"},"Express.js")," to serve the generated static files:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"npm install express --save\nnpm install compression --save\n")),(0,r.kt)("p",null,"Add an index.js file to the root directory of your app ",(0,r.kt)("em",{parentName:"p"},"./index.js")," and copy in the following code to serve the ",(0,r.kt)("em",{parentName:"p"},"./public")," folder on ",(0,r.kt)("em",{parentName:"p"},"localhost:8888"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const express = require('express');\nconst app = express();\nconst compression = require('compression');\n// compress all responses\napp.use(compression());\n\napp.use(express.static('public'));\n\napp.listen(8888, () => console.log('gatsby-reactstrap listening on http://localhost:8888'));\n")),(0,r.kt)("p",null,"Now add a start script to your ",(0,r.kt)("em",{parentName:"p"},"./package.json")," file to allow you to start your server by typing ",(0,r.kt)("strong",{parentName:"p"},"npm start"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[...],\n  'scripts': {\n    'start': 'node ./index.js'\n  },\n[...]\n")))}m.isMDXComponent=!0},56009:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/_gatsby-reactstrap_01-79c4efd6ef9c23fc115f9bccb472eb98.png"},61852:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/photo-33795713253_5b71110d90_o-765d9525993e145bef293d1ed37cea6c.png"}}]);
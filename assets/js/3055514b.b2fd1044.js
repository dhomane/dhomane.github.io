"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[18310],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),i=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=i(e.components);return a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=i(n),h=r,d=u["".concat(p,".").concat(h)]||u[h]||m[h]||o;return n?a.createElement(d,l(l({ref:t},c),{},{components:n})):a.createElement(d,l({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=u;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var i=2;i<o;i++)l[i]=n[i];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},88731:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>i});var a=n(87462),r=(n(67294),n(3905));const o={sidebar_position:1e4,slug:"2020-05-01",title:"Getting to Know Neo4j",authors:"mpolinowski",tags:["Databases","Neo4j","Docker"]},l=void 0,s={unversionedId:"Development/Graphs/2020-05-01--getting-to-know-neo4j/index",id:"Development/Graphs/2020-05-01--getting-to-know-neo4j/index",title:"Getting to Know Neo4j",description:"Mongkok, Hong Kong",source:"@site/docs/Development/Graphs/2020-05-01--getting-to-know-neo4j/index.mdx",sourceDirName:"Development/Graphs/2020-05-01--getting-to-know-neo4j",slug:"/Development/Graphs/2020-05-01--getting-to-know-neo4j/2020-05-01",permalink:"/docs/Development/Graphs/2020-05-01--getting-to-know-neo4j/2020-05-01",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Development/Graphs/2020-05-01--getting-to-know-neo4j/index.mdx",tags:[{label:"Databases",permalink:"/docs/tags/databases"},{label:"Neo4j",permalink:"/docs/tags/neo-4-j"},{label:"Docker",permalink:"/docs/tags/docker"}],version:"current",sidebarPosition:1e4,frontMatter:{sidebar_position:1e4,slug:"2020-05-01",title:"Getting to Know Neo4j",authors:"mpolinowski",tags:["Databases","Neo4j","Docker"]},sidebar:"tutorialSidebar",previous:{title:"Neo4j Movie Graph",permalink:"/docs/Development/Graphs/2020-05-02--neo4j-movie-graph/2020-05-02"},next:{title:"React Native",permalink:"/docs/category/react-native"}},p={},i=[{value:"Running in Docker",id:"running-in-docker",level:2},{value:"Cypher",id:"cypher",level:2},{value:"CREATE",id:"create",level:3},{value:"MATCH",id:"match",level:3},{value:"MERGE",id:"merge",level:3},{value:"WHERE, WITH and AND",id:"where-with-and-and",level:3},{value:"SET",id:"set",level:3},{value:"REMOVE",id:"remove",level:3},{value:"WITH",id:"with",level:3},{value:"DELETE",id:"delete",level:3},{value:"NULL",id:"null",level:3},{value:"Nth Degree Relationships",id:"nth-degree-relationships",level:3},{value:"Importing Scripts",id:"importing-scripts",level:2}],c={toc:i};function m(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Mongkok, Hong Kong",src:n(32611).Z,width:"1500",height:"607"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#running-in-docker"},"Running in Docker")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#cypher"},"Cypher"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#create"},"CREATE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#match"},"MATCH")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#merge"},"MERGE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#where-with-and-and"},"WHERE, WITH and AND")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#set"},"SET")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#remove"},"REMOVE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#with"},"WITH")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#delete"},"DELETE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#null"},"NULL")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#nth-degree-relationships"},"Nth Degree Relationships")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#importing-scripts"},"Importing Scripts"))),(0,r.kt)("h2",{id:"running-in-docker"},"Running in Docker"),(0,r.kt)("p",null,"Create the folders Neo4j will need to persists it's data:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir /opt/neo4j/data\nmkdir /opt/neo4j/logs\nmkdir /opt/neo4j/import\nmkdir /opt/neo4j/plugins\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"chown 101:101")," all folders to make them available for your Docker user."),(0,r.kt)("p",null,"Pull and run the latest version of Neo4j from Docker Hub."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"docker run \\\n    --name neo4j \\\n    -p7474:7474 -p7687:7687 \\\n    -d \\\n    -v /opt/neo4j/data:/data \\\n    -v /opt/neo4j/logs:/logs \\\n    -v /opt/neo4j/import:/var/lib/neo4j/import \\\n    -v /opt/neo4j/plugins:/plugins \\\n    --env NEO4J_AUTH=neo4j/password \\\n    neo4j:latest\n")),(0,r.kt)("p",null,"By default, the Docker image exposes three ports for remote access:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"7474 for HTTP"),(0,r.kt)("li",{parentName:"ul"},"7473 for HTTPS"),(0,r.kt)("li",{parentName:"ul"},"7687 for Bolt")),(0,r.kt)("p",null,"Now head over to ",(0,r.kt)("inlineCode",{parentName:"p"},"localhost:7474")," with your browser and login with ",(0,r.kt)("inlineCode",{parentName:"p"},"neo4j/password"),"."),(0,r.kt)("h2",{id:"cypher"},"Cypher"),(0,r.kt)("h3",{id:"create"},"CREATE"),(0,r.kt)("p",null,"Use the ",(0,r.kt)("strong",{parentName:"p"},"Create")," command to create nodes with properties and relationships."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"CREATE(p1: Person{name:'Susanne Colgate'}) -[r:UNIVERSITY_BERKELEY{attr:'Susanne followed Simon'}]-> (p2: Person{name: 'Simon Scabourough'}) RETURN p1,p2,r\n")),(0,r.kt)("p",null,"Create two nodes of type ",(0,r.kt)("strong",{parentName:"p"},"Person")," and the property ",(0,r.kt)("strong",{parentName:"p"},"Name")," and set them into a ",(0,r.kt)("strong",{parentName:"p"},"Relationship"),", e.g. both persons went to the same university. The return command allows us to see a visualization of the result of our query."),(0,r.kt)("h3",{id:"match"},"MATCH"),(0,r.kt)("p",null,"Use the ",(0,r.kt)("strong",{parentName:"p"},"Match")," command to find pattern among your nodes."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (p1: Person {name:'Simon Scabourough'}), (p2:Person {name: 'Susanne Colgate'})\nCREATE (p1) -[r:APPLIED_PHYSICS{attr:'Susanne invited Simon'}]-> (p2)\nRETURN p1,p2,r\n")),(0,r.kt)("p",null,"Find two nodes of type ",(0,r.kt)("strong",{parentName:"p"},"Person")," with specific ",(0,r.kt)("strong",{parentName:"p"},"Name")," properties and add a new relationship between them - a shared course at the university."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (p1:Person {name: 'Simon Scabourough'})-[r:APPLIED_PHYSICS]->(p2)\nRETURN p2\n")),(0,r.kt)("p",null,"Show me who joined Simon in his AP1 course."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH ()-[r:UNIVERSITY_BERKLY]->(p2)\nRETURN p2\n")),(0,r.kt)("p",null,"Show me everyone who was invited into Berkley."),(0,r.kt)("h3",{id:"merge"},"MERGE"),(0,r.kt)("p",null,"Just like the match operator you get the nodes or relationships returned. But unlike match, if the node, property or relationship does not exist it will be created by the merge query:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (person:Person{name:'Josefine Strudelb\xe4cker'})\nRETURN person\n")),(0,r.kt)("p",null,"Does not find anything - Merge creates the node for you:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MERGE (person:Person{name:'Josefine Strudelb\xe4cker'})\nMERGE (b\xe4ckerei:Work{name:'Zum Zipfelkratsch'})\nMERGE (person)-[:Worked_IN]->(b\xe4ckerei)\nRETURN person, b\xe4ckerei\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"ON CREATE SET")),(0,r.kt)("p",null,"The Merge Operator will either create the node or update it if it already exists. Everything after On Create will only be executed if the node does not yet exists:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MERGE (location:Location{name: 'Linz'})\nON CREATE SET location.created_at = timestamp(), location.created_by = 'GPS100x5'\nRETURN location\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"ON MATCH SET")),(0,r.kt)("p",null,"If we want to update a property every time we get a match:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MERGE (location:Location{name: 'Linz'})\nON CREATE SET location.created_at = timestamp(), location.update_count = 0\nON MATCH SET location.modified_at = timestamp(), location.update_count = (location.update_count + 1)\nRETURN location\n")),(0,r.kt)("p",null,"How often die Keanu Reeves watch Top Gun? Increment a relationship property every time a query is run:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (actor:Person{name: 'Keanu Reeves'})\nMATCH (movie:Movie{title: 'Top Gun'})\nMERGE (actor)-[rel:VIEWED]->(movie)\nON CREATE SET rel.count = 1\nON MATCH SET rel.count = (rel.count + 1) \nRETURN actor, movie\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Getting to know Neo4j",src:n(67052).Z,width:"1142",height:"603"})),(0,r.kt)("h3",{id:"where-with-and-and"},"WHERE, WITH and AND"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (a:Person),(b:Person)\nWHERE a.name='Simon Scabourough' AND b.name='Susanne Colgate'\nWITH a,b\nCREATE (a) -[r:ANALYTICAL_CHEMISTRY]->(b)\nRETURN a,b,r\n")),(0,r.kt)("h3",{id:"set"},"SET"),(0,r.kt)("p",null,"Use the ",(0,r.kt)("strong",{parentName:"p"},"Set")," command to change a property of a node."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (p:Person{name: 'Susanne Colgate'})\nSET p.name= 'Susan Colgate'\nRETURN p\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Set")," can also be used to create an property:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (p:Person {name: 'Susan Colgate'})\nSET p.title = 'Freshman'\nRETURN p\n")),(0,r.kt)("p",null,"Or to set a relationship:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (director:Person{name:'Clint Eastwood'}),\n(movies:Movie)<-[rel:DIRECTED]-(director)\nSET rel.rating = 5\n")),(0,r.kt)("p",null,"Or to set another label:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (director:Person{name:'Clint Eastwood'}),\n(movies:Movie)<-[rel:DIRECTED]-(director)\nSET director:Hero\n")),(0,r.kt)("p",null,"Setting a relationship to a new type is not supported by Neo4j. But you can create a new relationship and copy over the old properties:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (actor1:Person{name:'Tom Hanks'})-[old_rel:HAS_CONTACT]->(actor2:Person{name:'Al Pacino'})\nCREATE (actor1)-[new_rel:OLD_CONTACT]->(actor2)\nSET new_rel=old_rel\nDELETE old_rel\nRETURN actor1, actor2\n")),(0,r.kt)("h3",{id:"remove"},"REMOVE"),(0,r.kt)("p",null,"Remove a relationship:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (director:Person{name:'Clint Eastwood'}),\n(movies:Movie)<-[rel:DIRECTED]-(director)\nREMOVE rel.rating\n")),(0,r.kt)("p",null,"Remove a label:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (director:Person{name:'Clint Eastwood'}),\n(movies:Movie)<-[rel:DIRECTED]-(director)\nREMOVE director:Hero\n")),(0,r.kt)("h3",{id:"with"},"WITH"),(0,r.kt)("p",null,"Set dynamic properties to nodes with the ",(0,r.kt)("strong",{parentName:"p"},"WITH")," operator:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (actor:Person{name:'Tom Hanks'})-[rel:ACTED_IN]->(movie)\nWITH actor, count(movie) AS num_of_movies\nSET actor.num_of_movies = num_of_movies\nRETURN actor\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Getting to know Neo4j",src:n(14734).Z,width:"1416",height:"929"})),(0,r.kt)("h3",{id:"delete"},"DELETE"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (n)\nDELETE n\n")),(0,r.kt)("p",null,"Only works if Nodes don't have any relations - otherwise those have to be selected and deleted as well."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Delete All"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (n)\nOPTIONAL MATCH (n)-[r]-()\nDELETE n,r\n")),(0,r.kt)("p",null,"Select all nodes and relationships and delete the selection."),(0,r.kt)("p",null,"Or short - remove node and cut all relations that were attached to it:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"MATCH (node)\nDETACH DELETE node\n")),(0,r.kt)("p",null,"Selective delete:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (actor:Person{name:'Tom Cruise'}),\n(movies:Movie)<-[:ACTED_IN]-(actor)\nDETACH DELETE movies\n")),(0,r.kt)("h3",{id:"null"},"NULL"),(0,r.kt)("p",null,"Give me all person nodes that have a earnings property that is not undefined:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (person:Person)\nWHERE person.earnings IS NOT NULL\nRETURN person\n")),(0,r.kt)("h3",{id:"nth-degree-relationships"},"Nth Degree Relationships"),(0,r.kt)("p",null,"Get all 1st degree contacts of actor Keanu Reeves:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (actor:Person{name:'Keanu Reeves'})-[:HAS_CONTACT]->(contact)\nRETURN actor, contact\n")),(0,r.kt)("p",null,"Get all 2nd degree contacts:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (actor:Person{name:'Keanu Reeves'})-[:HAS_CONTACT]->(contact)-[:HAS_CONTACT]->(contact2)\nRETURN actor, contact2\n")),(0,r.kt)("p",null,"Get the nth degree contacts by simply adding ",(0,r.kt)("strong",{parentName:"p"},"*n")," to the relationship in question - e.g. get the 5th degree contacts:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (actor:Person{name:'Keanu Reeves'})-[rel:HAS_CONTACT*5]->(contact)\nRETURN actor, rel, contact\nLIMIT 1\n")),(0,r.kt)("p",null,"Show all 0 - 2nd degree contacts:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (actor:Person{name:'Keanu Reeves'})-[rel:HAS_CONTACT*0..2]->(contact)\nRETURN actor, rel, contact\nLIMIT 5\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"PATH")),(0,r.kt)("p",null,"How many contacts are between Keanu Reeves and Tom Cruise:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (neo:Person{name:'Keanu Reeves'})\nMATCH (maverick:Person{name:'Tom Cruise'})\nMATCH path=((neo)-[rel:HAS_CONTACT*]->(maverick))\nRETURN length(path)\nLIMIT 1\n")),(0,r.kt)("p",null,"To find the shortest path limit the degree of contact until no path can be found anymore:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (neo:Person{name:'Keanu Reeves'})\nMATCH (maverick:Person{name:'Tom Cruise'})\nMATCH path=((neo)-[rel:HAS_CONTACT*..2]->(maverick))\nRETURN length(path) AS path_length\nLIMIT 1\n")),(0,r.kt)("p",null,"The minimum path length is 2."),(0,r.kt)("p",null,"The easier way to find the path length is the ",(0,r.kt)("strong",{parentName:"p"},"SHORTEST PATH")," function:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (neo:Person{name:'Keanu Reeves'})\nMATCH (maverick:Person{name:'Tom Cruise'})\nMATCH path=shortestPath((neo)-[rel:HAS_CONTACT*..20]->(maverick))\nRETURN length(path) AS path_length\n")),(0,r.kt)("p",null,"Since there might be several shortest paths we can use the ",(0,r.kt)("strong",{parentName:"p"},"allShortestPath")," function to resolve all of them:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (neo:Person{name:'Keanu Reeves'})\nMATCH (maverick:Person{name:'Tom Cruise'})\nMATCH path=allShortestPaths((neo)-[rel:HAS_CONTACT*..20]->(maverick))\nRETURN path, length(path) AS path_length\n")),(0,r.kt)("p",null,"Get the shortest path between actors that acted in the movie The Matrix and actors from the movie Top Gun:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (actor1:Person)-[:ACTED_IN]->(movie1:Movie{title:'Top Gun'}),(actor2:Person)-[:ACTED_IN]->(movie2:Movie{title:'The Matrix'}), path = shortestPath((actor1)-[:HAS_CONTACT*..20]->(actor2))\nRETURN path, movie1, movie2, length(path) AS pathLength\nORDER BY pathLength\nLIMIT 2\n")),(0,r.kt)("p",null,"To exclude path where an actor worked in both movies:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MATCH (actor1:Person)-[:ACTED_IN]->(movie1:Movie{title:'Top Gun'}),(actor2:Person)-[:ACTED_IN]->(movie2:Movie{title:'The Matrix'}), path = shortestPath((actor1)-[:HAS_CONTACT*..20]->(actor2))\nWHERE actor1 <> actor2\nRETURN path, movie1, movie2, length(path) AS pathLength\nORDER BY pathLength\nLIMIT 1\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Getting to know Neo4j",src:n(56630).Z,width:"1143",height:"729"})),(0,r.kt)("h2",{id:"importing-scripts"},"Importing Scripts"),(0,r.kt)("p",null,"Just write down all your Cypher queries into a text file. Add a comment on top to name the script:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"// Neo4j Sample Data\nCREATE(p1: Person{name:'Susanne Colgate'}) -[r:UNIVERSITY_BERKELEY{attr:'Susanne followed Simon'}]-> (p2: Person{name: 'Simon Scabourough'})\nMATCH (p1: Person {name:'Simon Scabourough'}), (p2:Person {name: 'Susanne Colgate'})\nCREATE (p1) -[r:APPLIED_PHYSICS{attr:'Susanne invited Simon'}]-> (p2)\nMATCH (p1:Person {name: 'Simon Scabourough'})-[r:APPLIED_PHYSICS]->(p2)\nMATCH (a:Person),(b:Person)\nWHERE a.name='Simon Scabourough' AND b.name='Susanne Colgate'\nWITH a,b\nCREATE (a) -[r:ANALYTICAL_CHEMISTRY]->(b)\nMATCH (p:Person{name: 'Susanne Colgate'})\nSET p.name= 'Susan Colgate'\nMATCH (p:Person {name: 'Susan Colgate'})\nSET p.title = 'Freshman'\n")),(0,r.kt)("p",null,"And drag&drop them into the favorite section of the Neo4j web interface:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Getting to know Neo4j",src:n(45191).Z,width:"1185",height:"621"})),(0,r.kt)("p",null,"You can run all scripts at once by clicking on the play button next to your scripts name."))}m.isMDXComponent=!0},45191:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Getting_to_know_Cypher_01-8cd9e3a0c10843f7daee34a6dff3eab1.png"},14734:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Getting_to_know_Cypher_02-398c07f9fcba1cdc3c71dc109672fd0e.png"},67052:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Getting_to_know_Cypher_03-e4e99a1fb150824abd04fe243248b487.png"},56630:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Getting_to_know_Cypher_04-e4c5578c61c2b3134ed19a5b482e2fa8.png"},32611:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/photo-kt443t6d_64hdh43hfh6dgjdfhg4_d-cfa958512a1425cc02b1dd65aee8b14b.jpg"}}]);
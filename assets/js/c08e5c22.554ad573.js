"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[77861],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),f=u(n),d=a,g=f["".concat(l,".").concat(d)]||f[d]||c[d]||o;return n?r.createElement(g,i(i({ref:t},p),{},{components:n})):r.createElement(g,i({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=f;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var u=2;u<o;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},78304:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var r=n(87462),a=(n(67294),n(3905));const o={sidebar_position:9060,slug:"2019-01-11",title:"Ubuntu Network Configuration",authors:"mpolinowski",tags:["LINUX"]},i=void 0,s={unversionedId:"DevOps/Linux/2019-01-11--ubuntu-network-configuration/index",id:"DevOps/Linux/2019-01-11--ubuntu-network-configuration/index",title:"Ubuntu Network Configuration",description:"Battambang, Cambodia",source:"@site/docs/DevOps/Linux/2019-01-11--ubuntu-network-configuration/index.md",sourceDirName:"DevOps/Linux/2019-01-11--ubuntu-network-configuration",slug:"/DevOps/Linux/2019-01-11--ubuntu-network-configuration/2019-01-11",permalink:"/docs/DevOps/Linux/2019-01-11--ubuntu-network-configuration/2019-01-11",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/DevOps/Linux/2019-01-11--ubuntu-network-configuration/index.md",tags:[{label:"LINUX",permalink:"/docs/tags/linux"}],version:"current",sidebarPosition:9060,frontMatter:{sidebar_position:9060,slug:"2019-01-11",title:"Ubuntu Network Configuration",authors:"mpolinowski",tags:["LINUX"]},sidebar:"tutorialSidebar",previous:{title:"Ubuntu Server Cannot Stop Docker Container",permalink:"/docs/DevOps/Linux/2019-01-11--ubuntu-server-app-armour/2019-01-11"},next:{title:"Ubuntu Server Root SSH Remote Access",permalink:"/docs/DevOps/Linux/2019-01-11--root-access-ubuntu-server/2019-01-11"}},l={},u=[{value:"Check your network settings",id:"check-your-network-settings",level:2},{value:"Configure Netplan",id:"configure-netplan",level:2},{value:"Test and Apply your Settings",id:"test-and-apply-your-settings",level:3},{value:"Change Hostname",id:"change-hostname",level:2}],p={toc:u};function c(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Battambang, Cambodia",src:n(69028).Z,width:"1500",height:"640"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#check-your-network-settings"},"Check your network settings")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#configure-netplan"},"Configure Netplan"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#test-and-apply-your-settings"},"Test and Apply your Settings")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#change-hostname"},"Change Hostname"))),(0,a.kt)("h2",{id:"check-your-network-settings"},"Check your network settings"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"ip a\n2: enp3s0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000\n    link/ether 74:d4:35:c7:c2:20 brd ff:ff:ff:ff:ff:ff\n    inet 192.168.2.53/24 brd 192.168.2.255 scope global enp3s0\n       valid_lft forever preferred_lft forever\n")),(0,a.kt)("p",null,"The current IP address for the Ethernet interface is ",(0,a.kt)("inlineCode",{parentName:"p"},"192.168.2.53"),". And the gateway is ",(0,a.kt)("inlineCode",{parentName:"p"},"192.168.2.1")," as seen below:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"ip route\ndefault via 192.168.2.1 dev enp3s0 proto static \n")),(0,a.kt)("h2",{id:"configure-netplan"},"Configure Netplan"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"ls /etc/netplan/\n00-installer-config.yaml\n\nsudo nano /etc/netplan/00-installer-config.yaml\n")),(0,a.kt)("p",null,"Delete / overwrite the configuration inside this file, e.g. :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# This is the network config written by 'subiquity'\nnetwork:\n  ethernets:\n    enp3s0:\n      addresses:\n        - 192.168.2.110/24\n      gateway4: 192.168.2.5\n      nameservers:\n        addresses:\n          - 192.168.2.5\n          - 8.8.4.4\n        search:\n          - workgroup\n  version: 2\n")),(0,a.kt)("h3",{id:"test-and-apply-your-settings"},"Test and Apply your Settings"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo netplan try\nWarning: Stopping systemd-networkd.service, but it can still be activated by:\n  systemd-networkd.socket\nDo you want to keep these settings?\n\nPress ENTER before the timeout to accept the new configuration\n\nChanges will revert in 107 seconds\nConfiguration accepted.\n")),(0,a.kt)("p",null,"If there is no issue, it will return the configuration accepted message. If the configuration file fails the test, it will be reverted to a previous working configuration."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo netplan apply\n")),(0,a.kt)("p",null,"Verify your changes:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"ip a\n2: enp3s0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000\n    link/ether 74:d4:35:c7:c2:20 brd ff:ff:ff:ff:ff:ff\n    inet 192.168.2.110/24 brd 192.168.2.255 scope global enp3s0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::76d4:35ff:fec7:c220/64 scope link \n       valid_lft forever preferred_lft forever\n\n\nip route\ndefault via 192.168.2.5 dev enp3s0 proto static \n")),(0,a.kt)("h2",{id:"change-hostname"},"Change Hostname"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"hostname\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"hostnamectl set-hostname new-hostname\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"nano /etc/hosts\n\n127.0.1.1 new-hostname\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"hostnamectl\n")))}c.isMDXComponent=!0},69028:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/photo-19196703263_69f9f0df5f_o-14170a50fbe2ab4a9cbd78f18092a158.jpg"}}]);
"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[47118],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var a=n(67294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,i=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=p(n),m=l,k=u["".concat(s,".").concat(m)]||u[m]||c[m]||i;return n?a.createElement(k,r(r({ref:t},d),{},{components:n})):a.createElement(k,r({ref:t},d))}));function m(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var i=n.length,r=new Array(i);r[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:l,r[1]=o;for(var p=2;p<i;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},81748:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var a=n(87462),l=(n(67294),n(3905));const i={sidebar_position:8090,slug:"2022-06-15",title:"Wails - Build desktop apps using Go & React",authors:"mpolinowski",tags:["Go","React"]},r=void 0,o={unversionedId:"Development/Go/2022-06-15-wails-go-react/index",id:"Development/Go/2022-06-15-wails-go-react/index",title:"Wails - Build desktop apps using Go & React",description:"Shen Zhen, China",source:"@site/docs/Development/Go/2022-06-15-wails-go-react/index.md",sourceDirName:"Development/Go/2022-06-15-wails-go-react",slug:"/Development/Go/2022-06-15-wails-go-react/2022-06-15",permalink:"/docs/Development/Go/2022-06-15-wails-go-react/2022-06-15",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Development/Go/2022-06-15-wails-go-react/index.md",tags:[{label:"Go",permalink:"/docs/tags/go"},{label:"React",permalink:"/docs/tags/react"}],version:"current",sidebarPosition:8090,frontMatter:{sidebar_position:8090,slug:"2022-06-15",title:"Wails - Build desktop apps using Go & React",authors:"mpolinowski",tags:["Go","React"]},sidebar:"tutorialSidebar",previous:{title:"Build a NTP/S Timeserver Client in Go",permalink:"/docs/Development/Go/2022-10-04-go-ntp-client/2022-10-04"},next:{title:"goFTP",permalink:"/docs/Development/Go/2021-10-08--goftp/2021-10-08"}},s={},p=[{value:"Install Version 1.16.9",id:"install-version-1169",level:2},{value:"Dependencies",id:"dependencies",level:3},{value:"Install Wails",id:"install-wails",level:3},{value:"Hello World",id:"hello-world",level:3},{value:"Install Version 2 Beta",id:"install-version-2-beta",level:2},{value:"Build the Binary",id:"build-the-binary",level:3},{value:"Scaffold your first Wails App",id:"scaffold-your-first-wails-app",level:3},{value:"Project Layout",id:"project-layout",level:3},{value:"Development",id:"development",level:3},{value:"Build the Application",id:"build-the-application",level:3}],d={toc:p};function c(e){let{components:t,...i}=e;return(0,l.kt)("wrapper",(0,a.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"Shen Zhen, China",src:n(43579).Z,width:"1500",height:"598"})),(0,l.kt)("p",null,"The traditional method of providing web interfaces to Go programs is via a built-in web server. ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/wailsapp/wails"},"Wails")," offers a different approach: it provides the ability to wrap both Go code and a web frontend into a single binary. The Wails cli makes this easy for you, by handling project creation, compilation and bundling."),(0,l.kt)("h2",{id:"install-version-1169"},"Install Version 1.16.9"),(0,l.kt)("h3",{id:"dependencies"},"Dependencies"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Go - ",(0,l.kt)("a",{parentName:"li",href:"https://golang.org/doc/install#install"},"Go installation instructions")),(0,l.kt)("li",{parentName:"ul"},"npm - ",(0,l.kt)("a",{parentName:"li",href:"https://nodejs.org/en/download/"},"Node Downloads Page")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://wails.app/gettingstarted/linux/#gcc-gtk-webkit"},"gcc, gtk, webkit"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo pacman -S gcc pkgconf webkit2gtk gtk3\n")),(0,l.kt)("h3",{id:"install-wails"},"Install Wails"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"go install github.com/wailsapp/wails/cmd/wails@latest\n")),(0,l.kt)("p",null,"But I found that you can also find it on ",(0,l.kt)("strong",{parentName:"p"},"PACMAN"),": ",(0,l.kt)("inlineCode",{parentName:"p"},"community/wails 1.16.9-2"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo pacman -S wails\n\nwails version\n _       __      _ __    \n| |     / /___ _(_) /____\n| | /| / / __ `/ / / ___/\n| |/ |/ / /_/ / / (__  )  v1.16.9\n|__/|__/\\__,_/_/_/____/   https://wails.app\nThe lightweight framework for web-like apps\n\nAvailable commands:\n\n   setup     Setup the Wails environment [default]\n   migrate   Migrate projects to latest Wails release \n   init      Initialises a new Wails project \n   build     Builds your Wails project \n   serve     Run your Wails project in bridge mode \n   update    Update to newer [pre]releases or specific versions \n   issue     Generates an issue in Github\n")),(0,l.kt)("p",null,"To finish the installation setup your Wails system by running the setup command wails setup and filling your handle and email."),(0,l.kt)("h3",{id:"hello-world"},"Hello World"),(0,l.kt)("p",null,"Generate a new project using the init command - leads to an ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/wailsapp/wails/pull/1046/files"},"error message")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"wails init wails-world\nWails v1.16.9 - Initialising project\n\n2022/06/18 21:27:48 Could not load linuxdb.yaml\n")),(0,l.kt)("h2",{id:"install-version-2-beta"},"Install Version 2 Beta"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"go install github.com/wailsapp/wails/v2/cmd/wails@latest\n")),(0,l.kt)("p",null,"The application is installed in:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"go/pkg/mod/github.com/wailsapp/wails/v2@v2.0.0-beta.42/cmd/wails\n")),(0,l.kt)("p",null,"Running ",(0,l.kt)("inlineCode",{parentName:"p"},"wails doctor")," will check if you have the correct dependencies installed. Change into the installation directory and run:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"go run ./main.go doctor\nWails CLI v2.0.0-beta.42\n\nScanning system - Please wait (this may take a long time)...Done.\n\nSystem\n------\nOS:             Manjaro Linux\nVersion:        Unknown\nID:             manjaro\nGo Version:     go1.19\nPlatform:       linux\nArchitecture:   amd64\n\nWails\n------\nVersion:                v2.0.0-beta.42\nPackage Manager:        pacman\n\nDependency      Package Name    Status          Version\n----------      ------------    ------          -------\n*docker         docker          Installed       1:20.10.17-1\ngcc             gcc             Installed       12.1.0-3\nlibgtk-3        gtk3            Installed       1:3.24.34-1\nlibwebkit       webkit2gtk      Installed       2.36.4-2\nnpm             npm             Installed       8.15.1-1\npkg-config      pkgconf         Installed       1.8.0-1\n\n* - Optional Dependency\n\nDiagnosis\n---------\nYour system is ready for Wails development!\n")),(0,l.kt)("h3",{id:"build-the-binary"},"Build the Binary"),(0,l.kt)("p",null,"Inside the install directory run:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo go mod tidy\nsudo go build\n")),(0,l.kt)("p",null,"You will end up with a ",(0,l.kt)("inlineCode",{parentName:"p"},"wails")," bin file in ",(0,l.kt)("inlineCode",{parentName:"p"},"go/pkg/mod/github.com/wailsapp/wails/v2@v2.0.0-beta.42/cmd/wails/"),". Copy this file to your user ",(0,l.kt)("inlineCode",{parentName:"p"},"bin")," directory and make sure that it is picked up:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo mv wails /usr/bin/wails\nwails version\n")),(0,l.kt)("h3",{id:"scaffold-your-first-wails-app"},"Scaffold your first Wails App"),(0,l.kt)("p",null,"List all application templates:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"wails init -l\nWails CLI v2.0.0-beta.42\n\nTEMPLATE                        SHORT NAME      DESCRIPTION                              \nLit + Vite                      lit             Lit + Vite development server           \nLit + Vite (Typescript)         lit-ts          Lit + TS + Vite development server      \nPlain HTML/JS/CSS               plain           A simple template using only HTML/CSS/JS\nPreact + Vite                   preact          Preact + Vite development server        \nPreact + Vite (Typescript)      preact-ts       Preact + Vite development server        \nReact + Vite                    react           React + Vite development server         \nReact + Vite (Typescript)       react-ts        React + Vite development server         \nSvelte + Vite                   svelte          Svelte + Vite development server        \nSvelte + Vite (Typescript)      svelte-ts       Svelte + TS + Vite development server   \nVanilla + Vite                  vanilla         Vanilla + Vite development server       \nVanilla + Vite (Typescript)     vanilla-ts      Vanilla + Vite development server       \nVue + Vite                      vue             Vue + Vite development server           \nVue + Vite (Typescript)         vue-ts          Vue + Vite development server\n")),(0,l.kt)("p",null,"By default the ",(0,l.kt)("inlineCode",{parentName:"p"},"init")," command will use the ",(0,l.kt)("inlineCode",{parentName:"p"},"vanilla")," template. The following command will scaffold the ",(0,l.kt)("strong",{parentName:"p"},"React.js")," template:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir wails-world\nwails init -d wails-world -n wails-world -t react\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Wails CLI v2.0.0-beta.42\n\nInitialising Project 'wails-world'\n----------------------------------\n\nProject Name:      wails-world\nProject Directory: dev/wails-world\nProject Template:  react\nTemplate Support:  https://wails.io\n\nInitialised project 'wails-world' in 263ms.\n")),(0,l.kt)("h3",{id:"project-layout"},"Project Layout"),(0,l.kt)("p",null,"Wails projects have the following layout:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},".\n\u251c\u2500\u2500 build/\n\u2502   \u251c\u2500\u2500 appicon.png\n\u2502   \u251c\u2500\u2500 darwin/\n\u2502   \u2514\u2500\u2500 windows/\n\u251c\u2500\u2500 frontend/\n\u251c\u2500\u2500 go.mod\n\u251c\u2500\u2500 go.sum\n\u251c\u2500\u2500 main.go\n\u2514\u2500\u2500 wails.json\n")),(0,l.kt)("p",null,"Project structure rundown"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/main.go")," - The main application"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/frontend/")," - Frontend project files"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/build/"),"- Project build directory"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/build/appicon.png")," - The application icon"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/build/darwin/")," - Mac specific project files"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/build/windows/")," - Windows specific project files"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/wails.json")," - The project configuration"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/go.mod")," - Go module file"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/go.sum")," - Go module checksum file")),(0,l.kt)("p",null,"The default module name in go.mod is ",(0,l.kt)("inlineCode",{parentName:"p"},"changeme"),". You should change this to something more appropriate."),(0,l.kt)("h3",{id:"development"},"Development"),(0,l.kt)("p",null,"To get started, run ",(0,l.kt)("inlineCode",{parentName:"p"},"wails dev")," in the project directory:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd wails-world\nwails dev\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Vite Server URL: http://localhost:3000/\n  > Local: http://localhost:3000/\n  > Network: use `--host` to expose\n\n  ready in 330ms.\n")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"Wails Go React",src:n(8924).Z,width:"1037",height:"562"})),(0,l.kt)("h3",{id:"build-the-application"},"Build the Application"),(0,l.kt)("p",null,"From the project directory, run ",(0,l.kt)("inlineCode",{parentName:"p"},"wails build"),". This will compile your project and save the production-ready binary in the ",(0,l.kt)("em",{parentName:"p"},"build/bin")," directory."),(0,l.kt)("p",null,"Supported platforms:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Platform"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"darwin")),(0,l.kt)("td",{parentName:"tr",align:null},"MacOS + architecture of build machine")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"darwin/amd64")),(0,l.kt)("td",{parentName:"tr",align:null},"MacOS 10.13+ AMD64")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"darwin/arm64")),(0,l.kt)("td",{parentName:"tr",align:null},"MacOS 11.0+ ARM64")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"darwin/universal")),(0,l.kt)("td",{parentName:"tr",align:null},"MacOS AMD64+ARM64 universal application")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"windows")),(0,l.kt)("td",{parentName:"tr",align:null},"Windows 10/11 + architecture of build machine")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"windows/amd64")),(0,l.kt)("td",{parentName:"tr",align:null},"Windows 10/11 AMD64")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"windows/arm64")),(0,l.kt)("td",{parentName:"tr",align:null},"Windows 10/11 ARM64")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"linux")),(0,l.kt)("td",{parentName:"tr",align:null},"Linux + architecture of build machine")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"linux/amd64")),(0,l.kt)("td",{parentName:"tr",align:null},"Linux AMD64")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"linux/arm64")),(0,l.kt)("td",{parentName:"tr",align:null},"Linux ARM64")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"wails build -platform linux/amd64 -clean -o wails-world\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"App Type:               desktop\nPlatforms:              linux/amd64\nCompiler:               /usr/bin/go\nBuild Mode:             Production\nSkip Frontend:          false\nCompress:               false\nPackage:                true\nClean Build Dir:        true\nLDFlags:                \"\"\nTags:                   []\nRace Detector:          false\nOutput File:            wails-world\n\nBuilding target: linux/amd64\n----------------------------\n  - Installing frontend dependencies: Done.\n  - Compiling frontend: Done.\n  - Compiling application: Done.\n  - Packaging application: Done.\nBuilt 'dev/wails-world/build/bin/wails-world' in 28.931s.\n")),(0,l.kt)("p",null,"You can execute the binary file directly ",(0,l.kt)("inlineCode",{parentName:"p"},"./build/bin/wails-world"),":"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"Wails Go React",src:n(18314).Z,width:"1025",height:"966"})))}c.isMDXComponent=!0},8924:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Wails-Go-React_01-df83c48637016a54d29a03144a6713ac.png"},18314:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Wails-Go-React_02-b24bed904d5fa5fd6feec56aafeed276.png"},43579:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/photo-kt443t6d_64hdh43hfh6dgjdfhg4_d-0829cb95dd693c790a8ca59f3f351274.jpg"}}]);
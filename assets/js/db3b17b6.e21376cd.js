"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[4510],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=r.createContext({}),l=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},d=function(e){var t=l(e.components);return r.createElement(i.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),m=l(n),u=a,h=m["".concat(i,".").concat(u)]||m[u]||c[u]||o;return n?r.createElement(h,p(p({ref:t},d),{},{components:n})):r.createElement(h,p({ref:t},d))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,p=new Array(o);p[0]=m;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:a,p[1]=s;for(var l=2;l<o;l++)p[l]=n[l];return r.createElement.apply(null,p)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},35685:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>p,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var r=n(87462),a=(n(67294),n(3905));const o={sidebar_position:8020,slug:"2018-01-17",title:"Server Rendering with React and React Router",authors:"mpolinowski",tags:["Javascript","React"]},p=void 0,s={unversionedId:"Development/Javascript/2018-01-17--server-side-render-react-router/index",id:"Development/Javascript/2018-01-17--server-side-render-react-router/index",title:"Server Rendering with React and React Router",description:"Angkor, Cambodia",source:"@site/docs/Development/Javascript/2018-01-17--server-side-render-react-router/index.mdx",sourceDirName:"Development/Javascript/2018-01-17--server-side-render-react-router",slug:"/Development/Javascript/2018-01-17--server-side-render-react-router/2018-01-17",permalink:"/docs/Development/Javascript/2018-01-17--server-side-render-react-router/2018-01-17",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Development/Javascript/2018-01-17--server-side-render-react-router/index.mdx",tags:[{label:"Javascript",permalink:"/docs/tags/javascript"},{label:"React",permalink:"/docs/tags/react"}],version:"current",sidebarPosition:8020,frontMatter:{sidebar_position:8020,slug:"2018-01-17",title:"Server Rendering with React and React Router",authors:"mpolinowski",tags:["Javascript","React"]},sidebar:"tutorialSidebar",previous:{title:"Building a MQTT Interface",permalink:"/docs/Development/Javascript/2019-08-02--building-an-mqtt-interface/2019-08-02"},next:{title:"react-transition-group",permalink:"/docs/Development/Javascript/2018-01-15--react-transition-group-demo/2018-01-15"}},i={},l=[{value:"01 Setup Webpack 3",id:"01-setup-webpack-3",level:2},{value:"02 Hello World",id:"02-hello-world",level:2},{value:"03 Rehydration",id:"03-rehydration",level:2},{value:"04 Data Fetch Api",id:"04-data-fetch-api",level:2},{value:"05 React Router",id:"05-react-router",level:2},{value:"Server Side",id:"server-side",level:3},{value:"Client Side",id:"client-side",level:3}],d={toc:l};function c(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,r.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Angkor, Cambodia",src:n(34987).Z,width:"1500",height:"701"})),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Server side rendering a React app can provide a few different benefits including performance and SEO. The problem is with those benefits comes a cost of additional complexity to your application. In this project, we'll start from scratch and slowly build a server side rendered React 16.3 with React Router 4.")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#01-setup-webpack-3"},"01 Setup Webpack 3")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#02-hello-world"},"02 Hello World")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#03-rehydration"},"03 Rehydration")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#04-data-fetch-api"},"04 Data Fetch Api")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#05-react-router"},"05 React Router"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#server-side"},"Server Side")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#client-side"},"Client Side"))))),(0,a.kt)("h2",{id:"01-setup-webpack-3"},"01 Setup Webpack 3"),(0,a.kt)("p",null,"When accessing our app, we first want to be presented with a static HTML scaffold of our app, that loads immediately. This static layout will be re-hydrated by the actual react app, in form of an embedded ",(0,a.kt)("em",{parentName:"p"},"bundle.js")," file. This file can become quite big and might take a while to download - the static HTML is going to help us bridging the load time, before react kicks into action."),(0,a.kt)("p",null,"This way there are two render cases that we have to handle inside webpack - on our server and inside the clients browser. To accomplish this we need to add two configs - browserConfig and serverConfig to our ./webpack.config.js file."),(0,a.kt)("p",null,"The following dependencies need to be ",(0,a.kt)("em",{parentName:"p"},"npm installed"),"  and required in our Webpack Config:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"var path = require('path')\nvar webpack = require('webpack')\nvar nodeExternals = require('webpack-node-externals')\n")),(0,a.kt)("p",null,"Client Side Rendering Case:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"var browserConfig = {\n  entry: './src/browser/index.js',\n  output: {\n    path: path.resolve(__dirname, 'public'),\n    filename: 'bundle.js',\n    publicPath: '/'\n  },\n  module: {\n    rules: [{\n      test: /\\.(js)$/,\n      use: 'babel-loader'\n    }, ]\n  },\n  plugins: [\n    new webpack.DefinePlugin({\n      __isBrowser__: 'true'\n    })\n  ]\n}\n")),(0,a.kt)("p",null,"Webpack is going to take a ",(0,a.kt)("inlineCode",{parentName:"p"},"./src/browser/index.js")," file, and - with the help of Babel - bundle everything into a big / browser-readable javascript file in ",(0,a.kt)("inlineCode",{parentName:"p"},"./public"),". Make sure to install the following Babel components for this to work:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm install babel-core babel-loader babel-plugin-transform-object-rest-spread babel-preset-env babel-preset-react\n")),(0,a.kt)("p",null,"And configure babel to use the ",(0,a.kt)("em",{parentName:"p"},"react")," and ",(0,a.kt)("em",{parentName:"p"},"env")," preset inside your ./package.json file:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},"'babel': {\n    'presets': [\n      'env',\n      'react'\n    ],\n    'plugins': [\n      'transform-object-rest-spread'\n    ]\n  },\n")),(0,a.kt)("p",null,"Server Side Rendering Case:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"var serverConfig = {\n  entry: './src/server/index.js',\n  target: 'node',\n  externals: [nodeExternals()],\n  output: {\n    path: __dirname,\n    filename: 'server.js',\n    publicPath: '/'\n  },\n  module: {\n    rules: [{\n      test: /\\.(js)$/,\n      use: 'babel-loader'\n    }]\n  },\n  plugins: [\n    new webpack.DefinePlugin({\n      __isBrowser__: 'false'\n    })\n  ]\n}\n")),(0,a.kt)("p",null,"When ",(0,a.kt)("strong",{parentName:"p"},"isBrowser")," is set to false, Webpack will use the serverConfig, grabs the ",(0,a.kt)("inlineCode",{parentName:"p"},"./src/server/index.js"),", targets ",(0,a.kt)("em",{parentName:"p"},"node")," and babel-transpiles / bundles everything up inside ",(0,a.kt)("em",{parentName:"p"},"server.js")," in the root directory. The ",(0,a.kt)("em",{parentName:"p"},"externals")," line only states, that our ",(0,a.kt)("em",{parentName:"p"},"node-modules")," are not bundled up as well."),(0,a.kt)("h2",{id:"02-hello-world"},"02 Hello World"),(0,a.kt)("p",null,"Now we need to create the files that we defined in our Webpack Config. Lets create a ",(0,a.kt)("inlineCode",{parentName:"p"},"./src")," folder and add ",(0,a.kt)("inlineCode",{parentName:"p"},"./src/browser"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"./src/server")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"./src/shared"),". The last one will contain code, that is shared between the server and client side rendered file."),(0,a.kt)("p",null,"First, lets:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm install react react-dom\n")),(0,a.kt)("p",null,"Then get started with an Hello World, add an ",(0,a.kt)("inlineCode",{parentName:"p"},"./src/shared/app.js")," file with our primary react component:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"import React, {Component} from 'react'\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        Hello World\n      </div>\n    )\n  }\n}\n")),(0,a.kt)("p",null,"Inside ",(0,a.kt)("inlineCode",{parentName:"p"},"./src/server/index.js")," we want to create an ",(0,a.kt)("a",{parentName:"p",href:"https://expressjs.com"},"Express.js")," webserver for our app. first ",(0,a.kt)("inlineCode",{parentName:"p"},"npm install express cors"),", import them and create an Express App that is listening on port 3000, serving the content of our ",(0,a.kt)("inlineCode",{parentName:"p"},"./public"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import express from 'express'\nimport cors from 'cors'\n\nconst app = express()\n\nconst port = 3000\n\napp.use(cors())\n\napp.use(express.static('public'))\n\napp.listen(port, () => {\n  console.log('Express Server listening on port: '+ port)\n})\n")),(0,a.kt)("p",null,"To make Express serve our Hello World component, we can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"render-to-string")," method from ",(0,a.kt)("inlineCode",{parentName:"p"},"react-dom"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"...\n\nimport React from 'react'\nimport { renderToString } from 'react-dom/server'\nimport App from '../shared/App'\n\n...\n\napp.get('*', (req, res, next) => {\n  const markup = renderToString(\n    <App />\n  ) //Create HTML Markup from App React Component\n\n  res.send(`\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <title>Server Rendering with React and React Router</title>\n        <script src='/bundle.js' defer><\/script>\n      </head>\n\n      <body>\n        <div id='app'>${markup}</div>\n      </body>\n    </html>\n  `) //Wrap Markup inside HTML site and send to client and link to generated bundle.js\n})\n")),(0,a.kt)("p",null,"To test our app, lets install ",(0,a.kt)("a",{parentName:"p",href:"https://nodemon.io"},"Nodemon")," (it will catch changes we make to the code and automatically restart the server, when necessary) and add a ",(0,a.kt)("inlineCode",{parentName:"p"},"npm start script")," inside the package.json that allow us to run both npm scripts - the ",(0,a.kt)("inlineCode",{parentName:"p"},"develop script")," that starts Webpack and the ",(0,a.kt)("inlineCode",{parentName:"p"},"watch script")," - in parallel with our start script:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},"'scripts': {\n    'start': 'npm run develop | npm run watch',\n    'develop': 'webpack --watch',\n    'watch': 'nodemon server.js',\n    'test': 'echo \\'Error: no test specified\\' && exit 1'\n  },\n")),(0,a.kt)("p",null,"A proposed alternative to piping both commands together, is using ",(0,a.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/npm-run-all"},"npm-run-all")," (another would have been ",(0,a.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/concurrently"},"concurrently"),", which has to be installed as a dev dependency:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},"'scripts': {\n'start': 'npm-run-all --parallel develop watch',\n'develop': 'webpack -w',\n'watch': 'nodemon server.js',\n'test': 'echo \\'Error: no test specified\\' && exit 1'\n}\n")),(0,a.kt)("p",null,"We can now ",(0,a.kt)("inlineCode",{parentName:"p"},"npm start")," both components of the app server and see our Hello World by accessing ",(0,a.kt)("em",{parentName:"p"},"http://localhost:3000")," with a web browser."),(0,a.kt)("h2",{id:"03-rehydration"},"03 Rehydration"),(0,a.kt)("p",null,"We now have the server-side rendered part of our app. The next step is to build the client-side part - and rehydrate the static HTML with React, once the Javascript bundle is loaded. To visualize the process, let's add some data to our App React Component:"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"./src/shared/app.js")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"class App extends Component {\n  render(data) {\n    return (\n      <div>\n        Hello {this.props.data}\n      </div>\n    )\n  }\n}\n")),(0,a.kt)("p",null,"Now we can call our app with data in ",(0,a.kt)("inlineCode",{parentName:"p"},"./src/server/index.js"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"app.get('*', (req, res, next) => {\n  const markup = renderToString(\n    <App data='World' />\n  )\n")),(0,a.kt)("p",null,"This is going to display our old ",(0,a.kt)("strong",{parentName:"p"},"Hello World"),". By calling the component with a data string in the client side version of our app, we will be able to see the Rehydration in process:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"./src/browser/index.js")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import React from 'react'\nimport { hydrate } from 'react-dom'\nimport App from '../shared/App'\n\nhydrate (\n  <App data='You' />,\n  document.getElementById('app')\n)\n")),(0,a.kt)("p",null,"This process will search for the Element ID 'app' inside our server-side rendered HTML and replace (rehydrate) the Element with corresponding, fully functional React Component. Since we are passing in different Data (World / You), we will be able to see, when the rehydration process succeeded - which on localhost is of course very fast:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Popular Repositories on Github",src:n(5963).Z,width:"582",height:"481"})),(0,a.kt)("p",null,"But taking a look at your Browser Console tells you, that React is not happy about the mismatch - it expects the rendered content to be identical between the server and the client!"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"React Rehydration",src:n(74403).Z,width:"590",height:"113"})),(0,a.kt)("p",null,"To make sure that the data is always the same on both sides, we can only hardcode (you need to ",(0,a.kt)("inlineCode",{parentName:"p"},"npm install serialize-javascript"),") it to the server side and pass it to the window object from there:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"./src/server/index.js")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"...\n\nimport serialize from 'serialize-javascript'\n\n...\n\napp.get('*', (req, res, next) => {\n  const world = 'World'\n  const markup = renderToString(\n    <App data={world} />\n  )\n\n  res.send(`\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <title>Server Rendering with React and React Router</title>\n        <script src='/bundle.js' defer><\/script>\n        <script>window.__INITIAL_DATA__ = ${serialize(world)}<\/script>\n      </head>\n\n      <body>\n        <div id='app'>${markup}</div>\n      </body>\n    </html>\n  `)\n})\n")),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"./src/browser/index.js")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"hydrate (\n  <App data={window.__INITIAL_DATA__} />,\n  document.getElementById('app')\n)\n")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Popular Repositories on Github",src:n(76062).Z,width:"592",height:"481"})),(0,a.kt)("p",null,"Now the server rendered version will have the hardcoded data, and the client side can pick it up from ",(0,a.kt)("strong",{parentName:"p"},"_","_","INITIAL","_","DATA","_","_")),(0,a.kt)("h2",{id:"04-data-fetch-api"},"04 Data Fetch Api"),(0,a.kt)("p",null,"To make our app a little bit more useful, lets - instead of using hardcoded strings - fetch some Data from the ",(0,a.kt)("a",{parentName:"p",href:"https://developer.github.com/v3/"},"Github API"),". We create a ",(0,a.kt)("inlineCode",{parentName:"p"},"./src/shared/api.js")," file and add the necessary fetch api AJAX request (you need to ",(0,a.kt)("inlineCode",{parentName:"p"},"npm install isomorphic-fetch"),") to retrieve a JSON response with the most beloved repositories from different programming languages:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import fetch from 'isomorphic-fetch'\n\nexport function fetchPopularRepos(language = 'all') {\n  const encodedURI = encodeURI(`https://api.github.com/search/repositories?q=stars:>1+language:${language}&sort=stars&order=desc&type=Repositories`)\n\n  return fetch(encodedURI)\n    .then((data) => data.json())\n    .then((repos) => repos.items)\n    .catch((error) => {\n      console.warn(error)\n      return null\n    });\n}\n")),(0,a.kt)("p",null,"To add this data to our server rendered HTML, we first need to import it:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"./src/server/index.js")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import { fetchPopularRepos } from '../shared/api'\n")),(0,a.kt)("p",null,"And then pass the data response to the render function:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"app.get('*', (req, res, next) => {\n  fetchPopularRepos()\n  .then((data) => {\n    const markup = renderToString(\n      <App data={data} />\n    )\n\n    res.send(`\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <title>Server Rendering with React and React Router</title>\n        <script src='/bundle.js' defer><\/script>\n        <script>window.__INITIAL_DATA__ = ${serialize(data)}<\/script>\n      </head>\n\n      <body>\n        <div id='app'>${markup}</div>\n      </body>\n    </html>\n  `)\n  })\n})\n")),(0,a.kt)("p",null,"To make the API response a little bit more readable, lets create a Grid component that will be imported to our \\<App/",">"," component."),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"./shared/grid.js")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"import React, { Component } from 'react'\n\nclass Grid extends Component {\n  render() {\n    const repos = this.props.data\n\n    return (\n      <ul style={{ display: 'flex', flexWrap: 'wrap' }}>\n        {repos.map(({ name, owner, stargazers_count, html_url }) => (\n          <li key={name} style={{ margin: 30 }}>\n            <ul>\n              <li><a href={html_url}>{name}</a></li>\n              <li>@{owner.login}</li>\n              <li>{stargazers_count} stars</li>\n            </ul>\n          </li>\n        ))}\n      </ul>\n    )\n  }\n}\n\nexport default Grid\n")),(0,a.kt)("p",null,"Since we already passed down the data from our API call to the \\<App/",">"," component, we can now pass it further down to our new \\<Grid/",">"," component:"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"./src/shared/app.js")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"\nimport Grid from './grid'\n\nclass App extends Component {\n  render(data) {\n    return (\n      <div>\n        <Grid data={this.props.data} />\n      </div>\n    )\n  }\n}\n")),(0,a.kt)("p",null,"The Github API call is now populating the Grid inside our App component. Opening ",(0,a.kt)("em",{parentName:"p"},"http://localhost:3000")," inside your browser will show you a list of the most popular github repositories for all programming languages:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Popular Repositories on Github",src:n(74998).Z,width:"627",height:"233"})),(0,a.kt)("h2",{id:"05-react-router"},"05 React Router"),(0,a.kt)("h3",{id:"server-side"},"Server Side"),(0,a.kt)("p",null,"Now we want to add some routes to our app, using ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/ReactTraining/react-router"},"React Router"),". We will have to use a shared route config for server and client side navigation. We will add this central route configuration file in ",(0,a.kt)("inlineCode",{parentName:"p"},"./src/shared/routes.js")," :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import Home from './home'\nimport Grid from './grid'\n\nconst routes = [\n  {\n    path: '/',\n    exact: 'true',\n    component: Home,\n  },\n  {\n    path: '/popular/:id',\n    component: Grid,\n  }\n]\n")),(0,a.kt)("p",null,"The App will have 2 available routes - the root page and the page that will render the Github API response. Lets quickly add a scaffolding for the \\<Home \\/",">"," component, that will later let you choose the language, you want to see popular repositories for:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"./src/shared/home.js")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react'\n\nexport default function Home () {\n  return (\n    <div>\n      Select a language\n    </div>\n  )\n}\n")),(0,a.kt)("p",null,"To enable our server to pre-render each page, we have to add every data request that a route needs into the central route object ",(0,a.kt)("inlineCode",{parentName:"p"},"./src/shared/routes.js")," :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import { fetchPopularRepos } from './api'\n\n...\n\n{\n  path: '/popular/:id',\n  component: Grid,\n  fetchInitialData: (path = '') => fetchPopularRepos(path.split('/').pop())\n}\n")),(0,a.kt)("p",null,"The user will be able to choose the programming language he is interested in inside the \\<Home \\/",">"," component and will navigate to the specific route ",(0,a.kt)("inlineCode",{parentName:"p"},"/popular/${language}"),". The initialData for the server rendered page will be take from the Github API call with the chosen language from the URL path."),(0,a.kt)("p",null,"Now we need to make the ",(0,a.kt)("inlineCode",{parentName:"p"},"./src/server/index.js")," aware what route the user chose, so that correct content will be pre-rendered. We can do this with the ",(0,a.kt)("strong",{parentName:"p"},"matchPath")," method, provided by react-router-dom:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"import { matchPath } from 'react-router-dom'\nimport routes from '../shared/routes'\n\n...\n\napp.get('*', (req, res, next) => { //when app receives a GET request...\n  const activeRoute = routes.find((route) => matchPath(req.url, route)) || {} //find out what route matches the requested URL...\n\n  fetchPopularRepos()\n  .then((data) => {\n    const markup = renderToString(\n      <App data={data} />\n    )\n\n...\n")),(0,a.kt)("p",null,"To find the active route, compare the requested URL with the route Object (imported from ",(0,a.kt)("inlineCode",{parentName:"p"},"./src/shared/routes/"),"), if no match is found, set the active route to an empty object."),(0,a.kt)("p",null,"We can now handle the fetching of Initial data with a promise and remove the ",(0,a.kt)("em",{parentName:"p"},"fetchPopularRepos")," API call (as it is now handled inside the central route object):"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"// import { fetchPopularRepos } from '../shared/api' //REMOVE\n\n...\n\napp.get('*', (req, res, next) => { //when app receives a GET request...\n  const activeRoute = routes.find((route) => matchPath(req.url, route)) || {} //find out what route matches the requested URL...\n\n  const promise = activeRoute.fetchInitialData //find out if the route needs to fetch data\n    ? activeRoute.fetchInitialData(req.path) //if so, fetch the data for the active route\n    : Promise.resolve() //if no data is needed (home route), just resolve\n\n    promise.then((data) => { //when everything is fetched, render the app markup with the with {data}\n      const markup = renderToString(\n        <App data={data} />\n      )\n\n    res.send(`\n    <html>\n    ...\n    </html>\n  `) //and send the static HTML page to client\n  }).catch(next) //if there are any errors, move on to the next request\n})\n...\n")),(0,a.kt)("p",null,"You can test the routing by opening a valid URL that follows our requirement ",(0,a.kt)("inlineCode",{parentName:"p"},"path:'/popular/:id'"),", e.g. ",(0,a.kt)("em",{parentName:"p"},"http://localhost:3000/popular/javascript")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Popular Javascript Repositories on Github",src:n(89021).Z,width:"621",height:"401"})),(0,a.kt)("p",null,"The Router matches the URL, fetches the corresponding data from the Github API and provides it to the Grid component that is rendered and send to the client."),(0,a.kt)("h3",{id:"client-side"},"Client Side"),(0,a.kt)("p",null,"Now we have to add the client side routing. First, we wrap the \\<App \\/",">"," component ",(0,a.kt)("inlineCode",{parentName:"p"},"./src/browser/index.js")," inside a \\<BrowserRouter \\/",">",":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react'\nimport { hydrate } from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport App from '../shared/App'\n\nhydrate(\n  <BrowserRouter>\n    <App data={window.__INITIAL_DATA__} />\n  </BrowserRouter>,\n  document.getElementById('app')\n)\n")),(0,a.kt)("p",null,"And use the \\<StaticRouter \\/",">"," for the server side render:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"import { matchPath, StaticRouter } from 'react-router-dom'\n\n...\n\npromise.then((data) => {\n      const markup = renderToString(\n        <StaticRouter location='req.url' context={{}}>\n          <App data={data} />\n        </StaticRouter>\n      )\n\n")),(0,a.kt)("p",null,"The \\<App \\/",">"," component in ",(0,a.kt)("inlineCode",{parentName:"p"},"./src/shared/app.js")," now no longer needs to render the \\<Grid \\/",">"," but will receive "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"import React, { Component } from 'react'\nimport routes from './routes'\nimport { Route } from 'react-router-dom'\n\nclass App extends Component {\n  render(data) {\n    return (\n      <div>\n        {routes.map(({ path, exact, component: C, ...rest }) => (\n          <Route\n            key={path}\n            path={path}\n            exact={exact}\n            render={(props) => (\n              <C {...props} {...rest} />\n            )}\n          />\n        ))}\n      </div>\n    )\n  }\n}\n\nexport default App\n")))}c.isMDXComponent=!0},34987:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/photo-11627973773_7295195845_o-d09533387c5fd10d91e46ee4157544ca.png"},5963:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/ssrrr_01-2089c98db0fbd6cc599dc2c0f7ad716c.gif"},74403:(e,t,n)=>{n.d(t,{Z:()=>r});const r="data:image/png;base64,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"},76062:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/ssrrr_03-438d1742f31810ff5c27abe8dc12a0c2.gif"},74998:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/ssrrr_04-a6e4b3757680aee6b5fb6a22fa9a44d7.png"},89021:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/ssrrr_05-533b46c4e4055ebe27efe8c74dfc66a0.png"}}]);